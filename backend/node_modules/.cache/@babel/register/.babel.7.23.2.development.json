{"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _chatController = require(\"./Controller/chatController\");\nvar _userController = require(\"./Controller/userController\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst express = require('express');\nconst app = express();\nconst dotenv = require('dotenv');\nrequire('./db/db.config');\nconst chatRoute = require('./Routes/chatRoute');\nconst userRoute = require('./Routes/userRoute');\nconst {\n  Server\n} = require('socket.io');\ndotenv.config();\nconst port = process.env.PORT;\napp.use((0, _cors.default)());\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use('/', userRoute);\napp.use('/', chatRoute);\nconst server = app.listen(5000, console.log(\"running\"));\nconst io = new Server(server, {\n  cors: {\n    origin: '*'\n    // method: ['POST', 'GET']\n  }\n});\n\nio.on('connection', socket => {\n  console.log(\"new connection\", socket.id);\n  socket.on('create-connection', userId => {\n    (0, _userController.updateSocketId)(userId, socket.id);\n    io.to(socket.id).emit('connection-success', socket.id);\n  });\n  socket.on(\"create-chat\", async socketdata => {\n    console.log(\"this is socketdata\", socketdata);\n    await (0, _chatController.createChat)({\n      ...socketdata\n    }).then(res => {\n      console.log('this is response', res);\n    }).catch(err => {\n      console.log(err);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ycyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NoYXRDb250cm9sbGVyIiwiX3VzZXJDb250cm9sbGVyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJleHByZXNzIiwiYXBwIiwiZG90ZW52IiwiY2hhdFJvdXRlIiwidXNlclJvdXRlIiwiU2VydmVyIiwiY29uZmlnIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzZXJ2ZXIiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiaW8iLCJvcmlnaW4iLCJvbiIsInNvY2tldCIsImlkIiwidXNlcklkIiwidXBkYXRlU29ja2V0SWQiLCJ0byIsImVtaXQiLCJzb2NrZXRkYXRhIiwiY3JlYXRlQ2hhdCIsInRoZW4iLCJyZXMiLCJjYXRjaCIsImVyciJdLCJzb3VyY2VSb290IjoiL2hvbWUvcml5YXNpbmdoL0RvY3VtZW50cy9yaXlhL2NoYXRBcHBNRVJOL2JhY2tlbmQvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzPXJlcXVpcmUoJ2V4cHJlc3MnKVxuY29uc3QgYXBwPWV4cHJlc3MoKVxuY29uc3QgZG90ZW52PXJlcXVpcmUoJ2RvdGVudicpXG5yZXF1aXJlKCcuL2RiL2RiLmNvbmZpZycpXG5jb25zdCBjaGF0Um91dGU9cmVxdWlyZSgnLi9Sb3V0ZXMvY2hhdFJvdXRlJylcbmNvbnN0IHVzZXJSb3V0ZT1yZXF1aXJlKCcuL1JvdXRlcy91c2VyUm91dGUnKVxuY29uc3QgeyBTZXJ2ZXIgfSA9IHJlcXVpcmUoJ3NvY2tldC5pbycpXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xuaW1wb3J0IHsgY3JlYXRlQ2hhdCB9IGZyb20gJy4vQ29udHJvbGxlci9jaGF0Q29udHJvbGxlcidcblxuaW1wb3J0IHsgZ2V0VXNlckJ5U29ja2V0SWQsIHVwZGF0ZVNvY2tldElkIH0gZnJvbSAnLi9Db250cm9sbGVyL3VzZXJDb250cm9sbGVyJ1xuXG5kb3RlbnYuY29uZmlnKClcblxuY29uc3QgcG9ydD1wcm9jZXNzLmVudi5QT1JUXG5hcHAudXNlKGNvcnMoKSlcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6dHJ1ZX0pKVxuYXBwLnVzZSgnLycsdXNlclJvdXRlKVxuYXBwLnVzZSgnLycsY2hhdFJvdXRlKVxuXG5jb25zdCBzZXJ2ZXIgPWFwcC5saXN0ZW4oNTAwMCxjb25zb2xlLmxvZyhcInJ1bm5pbmdcIikpXG5cbmNvbnN0IGlvID0gbmV3IFNlcnZlcihzZXJ2ZXIsIHtcbiAgICBjb3JzOiB7XG4gICAgICAgIG9yaWdpbjogJyonXG4gICAgICAgIC8vIG1ldGhvZDogWydQT1NUJywgJ0dFVCddXG4gICAgfVxufSlcblxuaW8ub24oJ2Nvbm5lY3Rpb24nLChzb2NrZXQpPT57XG4gICAgY29uc29sZS5sb2coXCJuZXcgY29ubmVjdGlvblwiLHNvY2tldC5pZClcblxuICAgIHNvY2tldC5vbignY3JlYXRlLWNvbm5lY3Rpb24nLCh1c2VySWQpPT57XG4gICAgICAgdXBkYXRlU29ja2V0SWQodXNlcklkLHNvY2tldC5pZCkgXG4gICAgICAgaW8udG8oc29ja2V0LmlkKS5lbWl0KCdjb25uZWN0aW9uLXN1Y2Nlc3MnLCBzb2NrZXQuaWQpO1xuICAgIH0pXG5cblxuICAgIHNvY2tldC5vbihcImNyZWF0ZS1jaGF0XCIsYXN5bmMoc29ja2V0ZGF0YSk9PlxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIHNvY2tldGRhdGFcIiwgc29ja2V0ZGF0YSlcbiAgICBcbiAgICAgICBhd2FpdCBjcmVhdGVDaGF0KHsuLi5zb2NrZXRkYXRhfSkudGhlbigocmVzKT0+e1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyByZXNwb25zZScscmVzKVxuICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgIH0pXG4gICAgfSlcbn0pIl0sIm1hcHBpbmdzIjoiOztBQU9BLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLGVBQUEsR0FBQUYsT0FBQTtBQUErRSxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVYvRSxNQUFNRyxPQUFPLEdBQUNOLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDaEMsTUFBTU8sR0FBRyxHQUFDRCxPQUFPLENBQUMsQ0FBQztBQUNuQixNQUFNRSxNQUFNLEdBQUNSLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDOUJBLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztBQUN6QixNQUFNUyxTQUFTLEdBQUNULE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUM3QyxNQUFNVSxTQUFTLEdBQUNWLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUM3QyxNQUFNO0VBQUVXO0FBQU8sQ0FBQyxHQUFHWCxPQUFPLENBQUMsV0FBVyxDQUFDO0FBTXZDUSxNQUFNLENBQUNJLE1BQU0sQ0FBQyxDQUFDO0FBRWYsTUFBTUMsSUFBSSxHQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSTtBQUMzQlQsR0FBRyxDQUFDVSxHQUFHLENBQUMsSUFBQUMsYUFBSSxFQUFDLENBQUMsQ0FBQztBQUNmWCxHQUFHLENBQUNVLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDYSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCWixHQUFHLENBQUNVLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDYyxVQUFVLENBQUM7RUFBQ0MsUUFBUSxFQUFDO0FBQUksQ0FBQyxDQUFDLENBQUM7QUFDNUNkLEdBQUcsQ0FBQ1UsR0FBRyxDQUFDLEdBQUcsRUFBQ1AsU0FBUyxDQUFDO0FBQ3RCSCxHQUFHLENBQUNVLEdBQUcsQ0FBQyxHQUFHLEVBQUNSLFNBQVMsQ0FBQztBQUV0QixNQUFNYSxNQUFNLEdBQUVmLEdBQUcsQ0FBQ2dCLE1BQU0sQ0FBQyxJQUFJLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBRXJELE1BQU1DLEVBQUUsR0FBRyxJQUFJZixNQUFNLENBQUNXLE1BQU0sRUFBRTtFQUMxQkosSUFBSSxFQUFFO0lBQ0ZTLE1BQU0sRUFBRTtJQUNSO0VBQ0o7QUFDSixDQUFDLENBQUM7O0FBRUZELEVBQUUsQ0FBQ0UsRUFBRSxDQUFDLFlBQVksRUFBRUMsTUFBTSxJQUFHO0VBQ3pCTCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQ0ksTUFBTSxDQUFDQyxFQUFFLENBQUM7RUFFdkNELE1BQU0sQ0FBQ0QsRUFBRSxDQUFDLG1CQUFtQixFQUFFRyxNQUFNLElBQUc7SUFDckMsSUFBQUMsOEJBQWMsRUFBQ0QsTUFBTSxFQUFDRixNQUFNLENBQUNDLEVBQUUsQ0FBQztJQUNoQ0osRUFBRSxDQUFDTyxFQUFFLENBQUNKLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLENBQUNJLElBQUksQ0FBQyxvQkFBb0IsRUFBRUwsTUFBTSxDQUFDQyxFQUFFLENBQUM7RUFDekQsQ0FBQyxDQUFDO0VBR0ZELE1BQU0sQ0FBQ0QsRUFBRSxDQUFDLGFBQWEsRUFBQyxNQUFNTyxVQUFVLElBQ3hDO0lBQ0lYLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixFQUFFVSxVQUFVLENBQUM7SUFFOUMsTUFBTSxJQUFBQywwQkFBVSxFQUFDO01BQUMsR0FBR0Q7SUFBVSxDQUFDLENBQUMsQ0FBQ0UsSUFBSSxDQUFFQyxHQUFHLElBQUc7TUFDN0NkLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixFQUFDYSxHQUFHLENBQUM7SUFDcEMsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBRUMsR0FBRyxJQUFLO01BQ2pCaEIsT0FBTyxDQUFDQyxHQUFHLENBQUNlLEdBQUcsQ0FBQztJQUNqQixDQUFDLENBQUM7RUFDTCxDQUFDLENBQUM7QUFDTixDQUFDLENBQUMifQ==","map":{"version":3,"names":["_cors","_interopRequireDefault","require","_chatController","_userController","obj","__esModule","default","express","app","dotenv","chatRoute","userRoute","Server","config","port","process","env","PORT","use","cors","json","urlencoded","extended","server","listen","console","log","io","origin","on","socket","id","userId","updateSocketId","to","emit","socketdata","createChat","then","res","catch","err"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/","sources":["index.js"],"sourcesContent":["const express=require('express')\nconst app=express()\nconst dotenv=require('dotenv')\nrequire('./db/db.config')\nconst chatRoute=require('./Routes/chatRoute')\nconst userRoute=require('./Routes/userRoute')\nconst { Server } = require('socket.io')\nimport cors from 'cors'\nimport { createChat } from './Controller/chatController'\n\nimport { getUserBySocketId, updateSocketId } from './Controller/userController'\n\ndotenv.config()\n\nconst port=process.env.PORT\napp.use(cors())\napp.use(express.json())\napp.use(express.urlencoded({extended:true}))\napp.use('/',userRoute)\napp.use('/',chatRoute)\n\nconst server =app.listen(5000,console.log(\"running\"))\n\nconst io = new Server(server, {\n    cors: {\n        origin: '*'\n        // method: ['POST', 'GET']\n    }\n})\n\nio.on('connection',(socket)=>{\n    console.log(\"new connection\",socket.id)\n\n    socket.on('create-connection',(userId)=>{\n       updateSocketId(userId,socket.id) \n       io.to(socket.id).emit('connection-success', socket.id);\n    })\n\n\n    socket.on(\"create-chat\",async(socketdata)=>\n    {\n        console.log(\"this is socketdata\", socketdata)\n    \n       await createChat({...socketdata}).then((res)=>{\n        console.log('this is response',res)\n       }).catch((err) => {\n        console.log(err)\n       })\n    })\n})"],"mappings":";;AAOA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AAEA,IAAAE,eAAA,GAAAF,OAAA;AAA+E,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAV/E,MAAMG,OAAO,GAACN,OAAO,CAAC,SAAS,CAAC;AAChC,MAAMO,GAAG,GAACD,OAAO,CAAC,CAAC;AACnB,MAAME,MAAM,GAACR,OAAO,CAAC,QAAQ,CAAC;AAC9BA,OAAO,CAAC,gBAAgB,CAAC;AACzB,MAAMS,SAAS,GAACT,OAAO,CAAC,oBAAoB,CAAC;AAC7C,MAAMU,SAAS,GAACV,OAAO,CAAC,oBAAoB,CAAC;AAC7C,MAAM;EAAEW;AAAO,CAAC,GAAGX,OAAO,CAAC,WAAW,CAAC;AAMvCQ,MAAM,CAACI,MAAM,CAAC,CAAC;AAEf,MAAMC,IAAI,GAACC,OAAO,CAACC,GAAG,CAACC,IAAI;AAC3BT,GAAG,CAACU,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AACfX,GAAG,CAACU,GAAG,CAACX,OAAO,CAACa,IAAI,CAAC,CAAC,CAAC;AACvBZ,GAAG,CAACU,GAAG,CAACX,OAAO,CAACc,UAAU,CAAC;EAACC,QAAQ,EAAC;AAAI,CAAC,CAAC,CAAC;AAC5Cd,GAAG,CAACU,GAAG,CAAC,GAAG,EAACP,SAAS,CAAC;AACtBH,GAAG,CAACU,GAAG,CAAC,GAAG,EAACR,SAAS,CAAC;AAEtB,MAAMa,MAAM,GAAEf,GAAG,CAACgB,MAAM,CAAC,IAAI,EAACC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CAAC;AAErD,MAAMC,EAAE,GAAG,IAAIf,MAAM,CAACW,MAAM,EAAE;EAC1BJ,IAAI,EAAE;IACFS,MAAM,EAAE;IACR;EACJ;AACJ,CAAC,CAAC;;AAEFD,EAAE,CAACE,EAAE,CAAC,YAAY,EAAEC,MAAM,IAAG;EACzBL,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAACI,MAAM,CAACC,EAAE,CAAC;EAEvCD,MAAM,CAACD,EAAE,CAAC,mBAAmB,EAAEG,MAAM,IAAG;IACrC,IAAAC,8BAAc,EAACD,MAAM,EAACF,MAAM,CAACC,EAAE,CAAC;IAChCJ,EAAE,CAACO,EAAE,CAACJ,MAAM,CAACC,EAAE,CAAC,CAACI,IAAI,CAAC,oBAAoB,EAAEL,MAAM,CAACC,EAAE,CAAC;EACzD,CAAC,CAAC;EAGFD,MAAM,CAACD,EAAE,CAAC,aAAa,EAAC,MAAMO,UAAU,IACxC;IACIX,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEU,UAAU,CAAC;IAE9C,MAAM,IAAAC,0BAAU,EAAC;MAAC,GAAGD;IAAU,CAAC,CAAC,CAACE,IAAI,CAAEC,GAAG,IAAG;MAC7Cd,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAACa,GAAG,CAAC;IACpC,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAK;MACjBhB,OAAO,CAACC,GAAG,CAACe,GAAG,CAAC;IACjB,CAAC,CAAC;EACL,CAAC,CAAC;AACN,CAAC,CAAC"}},"mtime":1698411398653},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/db/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/db/db.config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  mongoose\n} = require(\"mongoose\");\nconst dotenv = require('dotenv');\ndotenv.config();\nconst uri = process.env.MONGO_URI;\nconsole.log(uri);\nmongoose.connect(uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJkb3RlbnYiLCJjb25maWciLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJJIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiXSwic291cmNlUm9vdCI6Ii9ob21lL3JpeWFzaW5naC9Eb2N1bWVudHMvcml5YS9jaGF0QXBwTUVSTi9iYWNrZW5kL2RiLyIsInNvdXJjZXMiOlsiZGIuY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgIG1vbmdvb3NlIH0gPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBkb3RlbnY9cmVxdWlyZSgnZG90ZW52JylcbmRvdGVudi5jb25maWcoKVxuXG5jb25zdCB1cmk9cHJvY2Vzcy5lbnYuTU9OR09fVVJJXG5jb25zb2xlLmxvZyh1cmkpXG5tb25nb29zZS5jb25uZWN0KHVyaSxcbiAge1xuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbiAgfVxuKTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTTtFQUFHQTtBQUFTLENBQUMsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUN6QyxNQUFNQyxNQUFNLEdBQUNELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDOUJDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFZixNQUFNQyxHQUFHLEdBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxTQUFTO0FBQy9CQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0wsR0FBRyxDQUFDO0FBQ2hCSixRQUFRLENBQUNVLE9BQU8sQ0FBQ04sR0FBRyxFQUNsQjtFQUNFTyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsa0JBQWtCLEVBQUU7QUFDdEIsQ0FDRixDQUFDIn0=","map":{"version":3,"names":["mongoose","require","dotenv","config","uri","process","env","MONGO_URI","console","log","connect","useNewUrlParser","useUnifiedTopology"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/db/","sources":["db.config.js"],"sourcesContent":["const {  mongoose } = require(\"mongoose\");\nconst dotenv=require('dotenv')\ndotenv.config()\n\nconst uri=process.env.MONGO_URI\nconsole.log(uri)\nmongoose.connect(uri,\n  {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  }\n);"],"mappings":";;AAAA,MAAM;EAAGA;AAAS,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AACzC,MAAMC,MAAM,GAACD,OAAO,CAAC,QAAQ,CAAC;AAC9BC,MAAM,CAACC,MAAM,CAAC,CAAC;AAEf,MAAMC,GAAG,GAACC,OAAO,CAACC,GAAG,CAACC,SAAS;AAC/BC,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;AAChBJ,QAAQ,CAACU,OAAO,CAACN,GAAG,EAClB;EACEO,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CACF,CAAC"}},"mtime":1698298657613},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/chatRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nvar chatRoomController = _interopRequireWildcard(require(\"../Controller/chatController\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst route = require('express').Router();\nroute.get('/get-chat', chatRoomController.getChat);\nmodule.exports = route;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Um9vbUNvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJyb3V0ZSIsIlJvdXRlciIsImdldENoYXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yaXlhc2luZ2gvRG9jdW1lbnRzL3JpeWEvY2hhdEFwcE1FUk4vYmFja2VuZC9Sb3V0ZXMvIiwic291cmNlcyI6WyJjaGF0Um91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY2hhdFJvb21Db250cm9sbGVyIGZyb20gJy4uL0NvbnRyb2xsZXIvY2hhdENvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlPXJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKVxuXG5cbnJvdXRlLmdldCgnL2dldC1jaGF0JyxjaGF0Um9vbUNvbnRyb2xsZXIuZ2V0Q2hhdClcblxuXG5cblxubW9kdWxlLmV4cG9ydHM9cm91dGUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsa0JBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUFrRSxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUVsRSxNQUFNWSxLQUFLLEdBQUN0QixPQUFPLENBQUMsU0FBUyxDQUFDLENBQUN1QixNQUFNLENBQUMsQ0FBQztBQUd2Q0QsS0FBSyxDQUFDYixHQUFHLENBQUMsV0FBVyxFQUFDWCxrQkFBa0IsQ0FBQzBCLE9BQU8sQ0FBQztBQUtqREMsTUFBTSxDQUFDQyxPQUFPLEdBQUNKLEtBQUsifQ==","map":{"version":3,"names":["chatRoomController","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","route","Router","getChat","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/","sources":["chatRoute.js"],"sourcesContent":["import * as chatRoomController from '../Controller/chatController'\n\nconst route=require('express').Router()\n\n\nroute.get('/get-chat',chatRoomController.getChat)\n\n\n\n\nmodule.exports=route"],"mappings":";;AAAA,IAAAA,kBAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAkE,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAElE,MAAMY,KAAK,GAACtB,OAAO,CAAC,SAAS,CAAC,CAACuB,MAAM,CAAC,CAAC;AAGvCD,KAAK,CAACb,GAAG,CAAC,WAAW,EAACX,kBAAkB,CAAC0B,OAAO,CAAC;AAKjDC,MAAM,CAACC,OAAO,GAACJ,KAAK"}},"mtime":1698305297411},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/chatController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getChat = exports.createChat = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// const { default: mongoose } = require(\"mongoose\")\nconst Chat = require(\"../modal/chatModal\");\nconst getChat = async (req, res) => {\n  console.log(req.query);\n  let userId = req.query.userId;\n  userId = new _mongoose.default.Types.ObjectId(userId);\n  try {\n    // const chats=Chat.find({ participants:{$in:[userId]}})\n\n    const chats = await Chat.aggregate([{\n      $match: {\n        participants: {\n          $in: [userId]\n        }\n      }\n    }, {\n      $lookup: {\n        from: 'Messages',\n        let: {\n          chatId: '$_id'\n        },\n        pipeline: [{\n          $match: {\n            $expr: {\n              $eq: ['$chatId', '$$chatId']\n            }\n          }\n        }, {\n          $project: {\n            _id: 0,\n            sender: 1,\n            receiver: 1\n          }\n        }, {\n          $lookup: {\n            from: 'Users',\n            localField: 'sender',\n            foreignField: '_id',\n            as: 'senderInfo'\n          }\n        }, {\n          $lookup: {\n            from: 'Users',\n            localField: 'receiver',\n            foreignField: '_id',\n            as: 'receiverInfo'\n          }\n        }],\n        as: 'messages'\n      }\n    }]);\n    console.log(chats);\n    if (chats.length) {\n      return res.status(200).json({\n        success: true,\n        chats: chats\n      });\n    }\n    return res.status(404).json({\n      success: true,\n      msg: \"No Data\"\n    });\n  } catch (e) {\n    console.log(e);\n    return res.status(500).json({\n      success: false\n    });\n  }\n};\n\n// export const createChat=async(id,userId)=>\n// {\n\n//     const s_id=new mongoose.Types.ObjectId(id)\n//     const r_id=new mongoose.Types.ObjectId(userId)\n// try{\n\n//     const existingChat=await Chat.findOne({participants: { $in: [r_id,s_id] }})\n//     if(!existingChat)\n//     {\n//     const chat=await Chat.create({\n//         isGroupChat: false,\n//             participants:[id,userId],\n//             latestMessage: null,\n//             lastMsgDate:null ,\n//             lastMsgBy:null ,\n//             groupAdmin: null,\n//             unreadCount: null,\n\n//     })\n// }\n// }\n// catch(e)\n// {\n//     console.log(e)\n// }\n\n// }\nexports.getChat = getChat;\nconst createChat = async data => {\n  try {\n    console.log(\"in create\", data);\n    return;\n    const s_id = new _mongoose.default.Types.ObjectId(id);\n    const r_id = new _mongoose.default.Types.ObjectId(userId);\n    console.log(id, userId);\n    const existingChat = await Chat.findOne({\n      participants: {\n        $all: [s_id, r_id]\n      }\n    });\n    if (!existingChat) {\n      const chat = await Chat.create({\n        isGroupChat: false,\n        participants: [id, userId],\n        latestMessage: null,\n        lastMsgDate: null,\n        lastMsgBy: null,\n        groupAdmin: null,\n        unreadCount: null\n      });\n      return chat;\n    }\n    return existingChat;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.createChat = createChat;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiQ2hhdCIsImdldENoYXQiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwicXVlcnkiLCJ1c2VySWQiLCJtb25nb29zZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJjaGF0cyIsImFnZ3JlZ2F0ZSIsIiRtYXRjaCIsInBhcnRpY2lwYW50cyIsIiRpbiIsIiRsb29rdXAiLCJmcm9tIiwibGV0IiwiY2hhdElkIiwicGlwZWxpbmUiLCIkZXhwciIsIiRlcSIsIiRwcm9qZWN0IiwiX2lkIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1zZyIsImUiLCJleHBvcnRzIiwiY3JlYXRlQ2hhdCIsImRhdGEiLCJzX2lkIiwiaWQiLCJyX2lkIiwiZXhpc3RpbmdDaGF0IiwiZmluZE9uZSIsIiRhbGwiLCJjaGF0IiwiY3JlYXRlIiwiaXNHcm91cENoYXQiLCJsYXRlc3RNZXNzYWdlIiwibGFzdE1zZ0RhdGUiLCJsYXN0TXNnQnkiLCJncm91cEFkbWluIiwidW5yZWFkQ291bnQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiL2hvbWUvcml5YXNpbmdoL0RvY3VtZW50cy9yaXlhL2NoYXRBcHBNRVJOL2JhY2tlbmQvQ29udHJvbGxlci8iLCJzb3VyY2VzIjpbImNoYXRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbnN0IHsgZGVmYXVsdDogbW9uZ29vc2UgfSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKVxuY29uc3QgQ2hhdCA9IHJlcXVpcmUoXCIuLi9tb2RhbC9jaGF0TW9kYWxcIilcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuZXhwb3J0IGNvbnN0IGdldENoYXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXEucXVlcnkpXG4gICAgbGV0IHVzZXJJZCA9IHJlcS5xdWVyeS51c2VySWRcbiAgICB1c2VySWQ9IG5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZCh1c2VySWQpXG4gICAgdHJ5IHtcblxuICAgICAgICAvLyBjb25zdCBjaGF0cz1DaGF0LmZpbmQoeyBwYXJ0aWNpcGFudHM6eyRpbjpbdXNlcklkXX19KVxuXG4gICAgICAgIGNvbnN0IGNoYXRzID0gYXdhaXQgQ2hhdC5hZ2dyZWdhdGUoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IHsgJGluOiBbdXNlcklkXSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkbG9va3VwOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206ICdNZXNzYWdlcycsXG4gICAgICAgICAgICAgICAgICAgIGxldDogeyBjaGF0SWQ6ICckX2lkJyB9LFxuICAgICAgICAgICAgICAgICAgICBwaXBlbGluZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXhwcjogeyAkZXE6IFsnJGNoYXRJZCcsICckJGNoYXRJZCddIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlcjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvb2t1cDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAnVXNlcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZpZWxkOiAnc2VuZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWlnbkZpZWxkOiAnX2lkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXM6ICdzZW5kZXJJbmZvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvb2t1cDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAnVXNlcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZpZWxkOiAncmVjZWl2ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlaWduRmllbGQ6ICdfaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhczogJ3JlY2VpdmVySW5mbydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgYXM6ICdtZXNzYWdlcydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF0pXG5cbiAgICAgICAgY29uc29sZS5sb2coY2hhdHMpXG4gICAgICAgIGlmIChjaGF0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGNoYXRzOiBjaGF0cyB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7c3VjY2Vzczp0cnVlLG1zZzpcIk5vIERhdGFcIn0pXG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlIH0pXG4gICAgfVxufVxuXG4vLyBleHBvcnQgY29uc3QgY3JlYXRlQ2hhdD1hc3luYyhpZCx1c2VySWQpPT5cbi8vIHtcblxuLy8gICAgIGNvbnN0IHNfaWQ9bmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKGlkKVxuLy8gICAgIGNvbnN0IHJfaWQ9bmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKHVzZXJJZClcbi8vIHRyeXtcblxuLy8gICAgIGNvbnN0IGV4aXN0aW5nQ2hhdD1hd2FpdCBDaGF0LmZpbmRPbmUoe3BhcnRpY2lwYW50czogeyAkaW46IFtyX2lkLHNfaWRdIH19KVxuLy8gICAgIGlmKCFleGlzdGluZ0NoYXQpXG4vLyAgICAge1xuLy8gICAgIGNvbnN0IGNoYXQ9YXdhaXQgQ2hhdC5jcmVhdGUoe1xuLy8gICAgICAgICBpc0dyb3VwQ2hhdDogZmFsc2UsXG4vLyAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6W2lkLHVzZXJJZF0sXG4vLyAgICAgICAgICAgICBsYXRlc3RNZXNzYWdlOiBudWxsLFxuLy8gICAgICAgICAgICAgbGFzdE1zZ0RhdGU6bnVsbCAsXG4vLyAgICAgICAgICAgICBsYXN0TXNnQnk6bnVsbCAsXG4vLyAgICAgICAgICAgICBncm91cEFkbWluOiBudWxsLFxuLy8gICAgICAgICAgICAgdW5yZWFkQ291bnQ6IG51bGwsXG4gICAgICAgIFxuLy8gICAgIH0pXG4vLyB9XG4vLyB9XG4vLyBjYXRjaChlKVxuLy8ge1xuLy8gICAgIGNvbnNvbGUubG9nKGUpXG4vLyB9XG4gICAgXG5cbi8vIH1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYXQgPSBhc3luYyAoZGF0YSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW4gY3JlYXRlXCIsIGRhdGEpO1xuICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNfaWQgPW5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZChpZCk7XG4gICAgICAgIGNvbnN0IHJfaWQgPSBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQodXNlcklkKTtcbmNvbnNvbGUubG9nKGlkLHVzZXJJZClcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDaGF0ID0gYXdhaXQgQ2hhdC5maW5kT25lKHsgcGFydGljaXBhbnRzOiB7ICRhbGw6IFtzX2lkLCByX2lkXSB9IH0pO1xuXG4gICAgICAgIGlmICghZXhpc3RpbmdDaGF0KSB7XG4gICAgICAgICAgICBjb25zdCBjaGF0ID0gYXdhaXQgQ2hhdC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGlzR3JvdXBDaGF0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IFtpZCwgdXNlcklkXSxcbiAgICAgICAgICAgICAgICBsYXRlc3RNZXNzYWdlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhc3RNc2dEYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhc3RNc2dCeTogbnVsbCxcbiAgICAgICAgICAgICAgICBncm91cEFkbWluOiBudWxsLFxuICAgICAgICAgICAgICAgIHVucmVhZENvdW50OiBudWxsLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBjaGF0OyBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleGlzdGluZ0NoYXQ7IFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3Io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","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Chat","getChat","req","res","console","log","query","userId","mongoose","Types","ObjectId","chats","aggregate","$match","participants","$in","$lookup","from","let","chatId","pipeline","$expr","$eq","$project","_id","sender","receiver","localField","foreignField","as","length","status","json","success","msg","e","exports","createChat","data","s_id","id","r_id","existingChat","findOne","$all","chat","create","isGroupChat","latestMessage","lastMsgDate","lastMsgBy","groupAdmin","unreadCount","error"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/","sources":["chatController.js"],"sourcesContent":["// const { default: mongoose } = require(\"mongoose\")\nconst Chat = require(\"../modal/chatModal\")\nimport mongoose from 'mongoose'\n\nexport const getChat = async (req, res) => {\n    console.log(req.query)\n    let userId = req.query.userId\n    userId= new mongoose.Types.ObjectId(userId)\n    try {\n\n        // const chats=Chat.find({ participants:{$in:[userId]}})\n\n        const chats = await Chat.aggregate([\n            {\n                $match: {\n                    participants: { $in: [userId] }\n                }\n            },\n            {\n                $lookup: {\n                    from: 'Messages',\n                    let: { chatId: '$_id' },\n                    pipeline: [\n                        {\n                            $match: {\n                                $expr: { $eq: ['$chatId', '$$chatId'] }\n                            }\n                        },\n                        {\n                            $project: {\n                                _id: 0,\n                                sender: 1,\n                                receiver: 1\n                            }\n                        },\n                        {\n                            $lookup: {\n                                from: 'Users',\n                                localField: 'sender',\n                                foreignField: '_id',\n                                as: 'senderInfo'\n                            }\n                        },\n                        {\n                            $lookup: {\n                                from: 'Users',\n                                localField: 'receiver',\n                                foreignField: '_id',\n                                as: 'receiverInfo'\n                            }\n                        }\n\n                    ],\n                    as: 'messages'\n                }\n            }\n        ])\n\n        console.log(chats)\n        if (chats.length) {\n            return res.status(200).json({ success: true, chats: chats })\n        }\n        return res.status(404).json({success:true,msg:\"No Data\"})\n    }\n    catch (e) {\n        console.log(e)\n        return res.status(500).json({ success: false })\n    }\n}\n\n// export const createChat=async(id,userId)=>\n// {\n\n//     const s_id=new mongoose.Types.ObjectId(id)\n//     const r_id=new mongoose.Types.ObjectId(userId)\n// try{\n\n//     const existingChat=await Chat.findOne({participants: { $in: [r_id,s_id] }})\n//     if(!existingChat)\n//     {\n//     const chat=await Chat.create({\n//         isGroupChat: false,\n//             participants:[id,userId],\n//             latestMessage: null,\n//             lastMsgDate:null ,\n//             lastMsgBy:null ,\n//             groupAdmin: null,\n//             unreadCount: null,\n        \n//     })\n// }\n// }\n// catch(e)\n// {\n//     console.log(e)\n// }\n    \n\n// }\n\nexport const createChat = async (data) => {\n    try {\n        console.log(\"in create\", data);\n        return;\n        const s_id =new mongoose.Types.ObjectId(id);\n        const r_id = new mongoose.Types.ObjectId(userId);\nconsole.log(id,userId)\n        const existingChat = await Chat.findOne({ participants: { $all: [s_id, r_id] } });\n\n        if (!existingChat) {\n            const chat = await Chat.create({\n                isGroupChat: false,\n                participants: [id, userId],\n                latestMessage: null,\n                lastMsgDate: null,\n                lastMsgBy: null,\n                groupAdmin: null,\n                unreadCount: null,\n            });\n\n            return chat; \n        }\n\n        return existingChat; \n    } catch (error) {\n        console.error(error);\n        throw error; \n    }\n};"],"mappings":"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"}},"mtime":1698411357464},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/chatModal.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  default: mongoose\n} = require(\"mongoose\");\nconst chatModal = mongoose.Schema({\n  isGroupChat: {\n    type: Boolean,\n    default: false\n  },\n  participants: [{\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  }],\n  latestMessage: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Message'\n  },\n  lastMsgDate: {\n    type: Date,\n    default: Date.now\n  },\n  lastMsgBy: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  groupAdmin: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  unreadCount: {\n    type: Number\n  }\n}, {\n  timestamps: true\n});\nconst Chat = mongoose.model(\"Chat\", chatModal);\nmodule.exports = Chat;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwibW9uZ29vc2UiLCJyZXF1aXJlIiwiY2hhdE1vZGFsIiwiU2NoZW1hIiwiaXNHcm91cENoYXQiLCJ0eXBlIiwiQm9vbGVhbiIsInBhcnRpY2lwYW50cyIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJsYXRlc3RNZXNzYWdlIiwibGFzdE1zZ0RhdGUiLCJEYXRlIiwibm93IiwibGFzdE1zZ0J5IiwiZ3JvdXBBZG1pbiIsInVucmVhZENvdW50IiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNoYXQiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3JpeWFzaW5naC9Eb2N1bWVudHMvcml5YS9jaGF0QXBwTUVSTi9iYWNrZW5kL21vZGFsLyIsInNvdXJjZXMiOlsiY2hhdE1vZGFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZGVmYXVsdDogbW9uZ29vc2UgfSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcblxuY29uc3QgY2hhdE1vZGFsID0gbW9uZ29vc2UuU2NoZW1hKHtcblxuICAgIGlzR3JvdXBDaGF0OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBwYXJ0aWNpcGFudHM6IFt7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiAnVXNlcidcbiAgICB9XSxcbiAgICBsYXRlc3RNZXNzYWdlOiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiAnTWVzc2FnZSdcbiAgICB9LFxuICAgIGxhc3RNc2dEYXRlOiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIGRlZmF1bHQ6IERhdGUubm93XG4gICAgfSxcbiAgICBsYXN0TXNnQnk6IHtcbiAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdVc2VyJ1xuICAgIH0sXG4gICAgZ3JvdXBBZG1pbjoge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogXCJVc2VyXCJcbiAgICB9LFxuICAgIHVucmVhZENvdW50OiB7XG4gICAgICAgIHR5cGU6IE51bWJlclxuICAgIH1cbn0sXG4gICAge1xuICAgICAgICB0aW1lc3RhbXBzOiB0cnVlXG4gICAgfSlcblxuY29uc3QgQ2hhdCA9IG1vbmdvb3NlLm1vZGVsKFwiQ2hhdFwiLCBjaGF0TW9kYWwpXG5cbm1vZHVsZS5leHBvcnRzID0gQ2hhdCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBLE9BQU8sRUFBRUM7QUFBUyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFFakQsTUFBTUMsU0FBUyxHQUFHRixRQUFRLENBQUNHLE1BQU0sQ0FBQztFQUU5QkMsV0FBVyxFQUFFO0lBQ1RDLElBQUksRUFBRUMsT0FBTztJQUNiUCxPQUFPLEVBQUU7RUFDYixDQUFDO0VBQ0RRLFlBQVksRUFBRSxDQUFDO0lBQ1hGLElBQUksRUFBRUwsUUFBUSxDQUFDRyxNQUFNLENBQUNLLEtBQUssQ0FBQ0MsUUFBUTtJQUNwQ0MsR0FBRyxFQUFFO0VBQ1QsQ0FBQyxDQUFDO0VBQ0ZDLGFBQWEsRUFBRTtJQUNYTixJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDcENDLEdBQUcsRUFBRTtFQUNULENBQUM7RUFDREUsV0FBVyxFQUFFO0lBQ1RQLElBQUksRUFBRVEsSUFBSTtJQUNWZCxPQUFPLEVBQUVjLElBQUksQ0FBQ0M7RUFDbEIsQ0FBQztFQUNEQyxTQUFTLEVBQUU7SUFDUFYsSUFBSSxFQUFFTCxRQUFRLENBQUNHLE1BQU0sQ0FBQ0ssS0FBSyxDQUFDQyxRQUFRO0lBQ3BDQyxHQUFHLEVBQUU7RUFDVCxDQUFDO0VBQ0RNLFVBQVUsRUFBRTtJQUNSWCxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDcENDLEdBQUcsRUFBRTtFQUNULENBQUM7RUFDRE8sV0FBVyxFQUFFO0lBQ1RaLElBQUksRUFBRWE7RUFDVjtBQUNKLENBQUMsRUFDRztFQUNJQyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRU4sTUFBTUMsSUFBSSxHQUFHcEIsUUFBUSxDQUFDcUIsS0FBSyxDQUFDLE1BQU0sRUFBRW5CLFNBQVMsQ0FBQztBQUU5Q29CLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSCxJQUFJIn0=","map":{"version":3,"names":["default","mongoose","require","chatModal","Schema","isGroupChat","type","Boolean","participants","Types","ObjectId","ref","latestMessage","lastMsgDate","Date","now","lastMsgBy","groupAdmin","unreadCount","Number","timestamps","Chat","model","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/","sources":["chatModal.js"],"sourcesContent":["const { default: mongoose } = require(\"mongoose\");\n\nconst chatModal = mongoose.Schema({\n\n    isGroupChat: {\n        type: Boolean,\n        default: false\n    },\n    participants: [{\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User'\n    }],\n    latestMessage: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Message'\n    },\n    lastMsgDate: {\n        type: Date,\n        default: Date.now\n    },\n    lastMsgBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User'\n    },\n    groupAdmin: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: \"User\"\n    },\n    unreadCount: {\n        type: Number\n    }\n},\n    {\n        timestamps: true\n    })\n\nconst Chat = mongoose.model(\"Chat\", chatModal)\n\nmodule.exports = Chat"],"mappings":";;AAAA,MAAM;EAAEA,OAAO,EAAEC;AAAS,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEjD,MAAMC,SAAS,GAAGF,QAAQ,CAACG,MAAM,CAAC;EAE9BC,WAAW,EAAE;IACTC,IAAI,EAAEC,OAAO;IACbP,OAAO,EAAE;EACb,CAAC;EACDQ,YAAY,EAAE,CAAC;IACXF,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACK,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACT,CAAC,CAAC;EACFC,aAAa,EAAE;IACXN,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACK,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACT,CAAC;EACDE,WAAW,EAAE;IACTP,IAAI,EAAEQ,IAAI;IACVd,OAAO,EAAEc,IAAI,CAACC;EAClB,CAAC;EACDC,SAAS,EAAE;IACPV,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACK,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACT,CAAC;EACDM,UAAU,EAAE;IACRX,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACK,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACT,CAAC;EACDO,WAAW,EAAE;IACTZ,IAAI,EAAEa;EACV;AACJ,CAAC,EACG;EACIC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEN,MAAMC,IAAI,GAAGpB,QAAQ,CAACqB,KAAK,CAAC,MAAM,EAAEnB,SAAS,CAAC;AAE9CoB,MAAM,CAACC,OAAO,GAAGH,IAAI"}},"mtime":1698300856471},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/userRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  createUser,\n  login,\n  getUserList\n} = require('../Controller/userController');\nconst route = require('express').Router();\nroute.post('/create-user', createUser);\nroute.post('/login', login);\nroute.get('/get-user-list', getUserList);\nmodule.exports = route;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVVc2VyIiwibG9naW4iLCJnZXRVc2VyTGlzdCIsInJlcXVpcmUiLCJyb3V0ZSIsIlJvdXRlciIsInBvc3QiLCJnZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yaXlhc2luZ2gvRG9jdW1lbnRzL3JpeWEvY2hhdEFwcE1FUk4vYmFja2VuZC9Sb3V0ZXMvIiwic291cmNlcyI6WyJ1c2VyUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBjcmVhdGVVc2VyLCBsb2dpbixnZXRVc2VyTGlzdCB9ID0gcmVxdWlyZSgnLi4vQ29udHJvbGxlci91c2VyQ29udHJvbGxlcicpXG5cbmNvbnN0IHJvdXRlPXJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKVxuXG5cbnJvdXRlLnBvc3QoJy9jcmVhdGUtdXNlcicsY3JlYXRlVXNlcilcbnJvdXRlLnBvc3QoJy9sb2dpbicsbG9naW4pXG5yb3V0ZS5nZXQoJy9nZXQtdXNlci1saXN0JyxnZXRVc2VyTGlzdClcblxuXG5tb2R1bGUuZXhwb3J0cz1yb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBLFVBQVU7RUFBRUMsS0FBSztFQUFDQztBQUFZLENBQUMsR0FBR0MsT0FBTyxDQUFDLDhCQUE4QixDQUFDO0FBRWpGLE1BQU1DLEtBQUssR0FBQ0QsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDRSxNQUFNLENBQUMsQ0FBQztBQUd2Q0QsS0FBSyxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFDTixVQUFVLENBQUM7QUFDckNJLEtBQUssQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0wsS0FBSyxDQUFDO0FBQzFCRyxLQUFLLENBQUNHLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQ0wsV0FBVyxDQUFDO0FBR3ZDTSxNQUFNLENBQUNDLE9BQU8sR0FBQ0wsS0FBSyJ9","map":{"version":3,"names":["createUser","login","getUserList","require","route","Router","post","get","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/","sources":["userRoute.js"],"sourcesContent":["const { createUser, login,getUserList } = require('../Controller/userController')\n\nconst route=require('express').Router()\n\n\nroute.post('/create-user',createUser)\nroute.post('/login',login)\nroute.get('/get-user-list',getUserList)\n\n\nmodule.exports=route"],"mappings":";;AAAA,MAAM;EAAEA,UAAU;EAAEC,KAAK;EAACC;AAAY,CAAC,GAAGC,OAAO,CAAC,8BAA8B,CAAC;AAEjF,MAAMC,KAAK,GAACD,OAAO,CAAC,SAAS,CAAC,CAACE,MAAM,CAAC,CAAC;AAGvCD,KAAK,CAACE,IAAI,CAAC,cAAc,EAACN,UAAU,CAAC;AACrCI,KAAK,CAACE,IAAI,CAAC,QAAQ,EAACL,KAAK,CAAC;AAC1BG,KAAK,CAACG,GAAG,CAAC,gBAAgB,EAACL,WAAW,CAAC;AAGvCM,MAAM,CAACC,OAAO,GAACL,KAAK"}},"mtime":1698322525650},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateSocketId = exports.getUserList = exports.getUserBySocketId = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst User = require(\"../modal/userModal\");\nconst bcrypt = require('bcrypt');\nexports.createUser = async (req, res) => {\n  const {\n    name,\n    email,\n    password,\n    socketId,\n    picture,\n    isActive,\n    isDeleted\n  } = req.body;\n  try {\n    const hashPass = bcrypt.hashSync(password, 10);\n    const user = await User.create({\n      name: name,\n      email: email,\n      password: hashPass,\n      socketId: socketId,\n      picture: picture,\n      isActive: false,\n      isDeleted: false\n    });\n    return res.status(200).json({\n      success: true,\n      user: user\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.login = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  try {\n    const user = await User.findOne({\n      email: email\n    });\n    if (!user) {\n      return res.status(404).json({\n        success: false,\n        msg: \"NO SUCH USER\"\n      });\n    }\n    console.log(\"user\", user);\n    const match = await bcrypt.compareSync(password, user.password);\n    if (!match) {\n      return res.status(404).json({\n        success: false,\n        msg: \"Invalid Credential\"\n      });\n    }\n    return res.status(200).json({\n      success: true,\n      msg: \"Login Successfully\",\n      user: user\n    });\n  } catch (e) {\n    console.log(e);\n    return res.status(500).json({\n      success: false\n    });\n  }\n};\nconst updateSocketId = async (userId, socketId) => {\n  console.log(userId);\n  console.log(\"fdsdsf\", socketId);\n  // console.log(\"before>>\",user)\n\n  try {\n    const user = await User.findByIdAndUpdate(userId, {\n      socketId: socketId\n    });\n    console.log(\">>\", user);\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.updateSocketId = updateSocketId;\nconst getUserList = async (req, res) => {\n  try {\n    const users = await User.find();\n    return res.status(200).json({\n      success: true,\n      users: users\n    });\n  } catch (e) {\n    console.log(e);\n    return res.status(404).json({\n      success: false\n    });\n  }\n};\nexports.getUserList = getUserList;\nconst getUserBySocketId = async socketId => {\n  try {\n    const user = await User.findOne({\n      socketId: socketId\n    });\n    console.log(user);\n    return user._id;\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.getUserBySocketId = getUserBySocketId;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiVXNlciIsImJjcnlwdCIsImV4cG9ydHMiLCJjcmVhdGVVc2VyIiwicmVxIiwicmVzIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJzb2NrZXRJZCIsInBpY3R1cmUiLCJpc0FjdGl2ZSIsImlzRGVsZXRlZCIsImJvZHkiLCJoYXNoUGFzcyIsImhhc2hTeW5jIiwidXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJsb2dpbiIsImZpbmRPbmUiLCJtc2ciLCJtYXRjaCIsImNvbXBhcmVTeW5jIiwidXBkYXRlU29ja2V0SWQiLCJ1c2VySWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImdldFVzZXJMaXN0IiwidXNlcnMiLCJmaW5kIiwiZ2V0VXNlckJ5U29ja2V0SWQiLCJfaWQiXSwic291cmNlUm9vdCI6Ii9ob21lL3JpeWFzaW5naC9Eb2N1bWVudHMvcml5YS9jaGF0QXBwTUVSTi9iYWNrZW5kL0NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJ1c2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL21vZGFsL3VzZXJNb2RhbFwiKVxuY29uc3QgYmNyeXB0PXJlcXVpcmUoJ2JjcnlwdCcpXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5cbmV4cG9ydHMuY3JlYXRlVXNlcj1hc3luYyhyZXEscmVzKT0+XG57XG5cbiAgICBjb25zdCB7bmFtZSxlbWFpbCxwYXNzd29yZCxzb2NrZXRJZCxwaWN0dXJlLGlzQWN0aXZlLGlzRGVsZXRlZH09cmVxLmJvZHlcbiAgICB0cnl7XG5cbiAgICAgICAgY29uc3QgaGFzaFBhc3M9YmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLDEwKVxuICAgICAgICAgICBjb25zdCB1c2VyPWF3YWl0IFVzZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6ZW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6aGFzaFBhc3MsXG4gICAgICAgICAgICAgICAgc29ja2V0SWQ6c29ja2V0SWQsXG4gICAgICAgICAgICAgICAgcGljdHVyZTpwaWN0dXJlLFxuICAgICAgICAgICAgICAgIGlzQWN0aXZlOmZhbHNlLFxuICAgICAgICAgICAgICAgIGlzRGVsZXRlZDpmYWxzZVxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgfSlcbiAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtzdWNjZXNzOnRydWUsdXNlcjp1c2VyfSlcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxufVxuXG5leHBvcnRzLmxvZ2luPWFzeW5jKHJlcSxyZXMpPT5cbntcblxuICAgIGNvbnN0IHtlbWFpbCxwYXNzd29yZH09cmVxLmJvZHlcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSlcbiAgICBpZighdXNlcilcbiAgICB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7c3VjY2VzczpmYWxzZSxtc2c6XCJOTyBTVUNIIFVTRVJcIn0pXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwidXNlclwiLCB1c2VyKVxuICAgXG4gICAgY29uc3QgbWF0Y2g9IGF3YWl0IGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgdXNlci5wYXNzd29yZClcbiAgICBpZighbWF0Y2gpXG4gICAge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsbXNnOlwiSW52YWxpZCBDcmVkZW50aWFsXCJ9KVxuICAgIH1cblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7c3VjY2Vzczp0cnVlLG1zZzpcIkxvZ2luIFN1Y2Nlc3NmdWxseVwiLHVzZXI6dXNlcn0pXG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe3N1Y2Nlc3M6ZmFsc2V9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVNvY2tldElkPWFzeW5jKHVzZXJJZCxzb2NrZXRJZCk9Plxue1xuICAgIGNvbnNvbGUubG9nKHVzZXJJZClcbiAgICBjb25zb2xlLmxvZyhcImZkc2RzZlwiLHNvY2tldElkKVxuICAgIC8vIGNvbnNvbGUubG9nKFwiYmVmb3JlPj5cIix1c2VyKVxuICAgIFxudHJ5e1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHVzZXJJZCwge1xuICAgICAgICBzb2NrZXRJZDogc29ja2V0SWRcbiAgICB9KTtcbiAgICAgY29uc29sZS5sb2coXCI+PlwiLHVzZXIpXG59XG5jYXRjaChlKVxue1xuICAgIGNvbnNvbGUubG9nKGUpXG59XG59XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyTGlzdD1hc3luYyhyZXEscmVzKT0+e1xuXG4gICAgdHJ5e1xuICAgICAgICBjb25zdCB1c2Vycz1hd2FpdCBVc2VyLmZpbmQoKVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3N1Y2Nlc3M6dHJ1ZSx1c2Vyczp1c2Vyc30pXG4gICAgfVxuY2F0Y2goZSlcbntcbiAgICBjb25zb2xlLmxvZyhlKVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7c3VjY2VzczpmYWxzZX0pXG59XG5cbn1cbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlTb2NrZXRJZD1hc3luYyhzb2NrZXRJZCk9Plxue1xudHJ5e1xuXG4gIGNvbnN0IHVzZXI9YXdhaXQgVXNlci5maW5kT25lKHtzb2NrZXRJZDpzb2NrZXRJZH0pXG4gIGNvbnNvbGUubG9nKHVzZXIpXG4gIHJldHVybiB1c2VyLl9pZFxufVxuY2F0Y2goZSlcbntcbiAgICBjb25zb2xlLmxvZyhlKVxufVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRi9CLE1BQU1HLElBQUksR0FBR0osT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQzFDLE1BQU1LLE1BQU0sR0FBQ0wsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUc5Qk0sT0FBTyxDQUFDQyxVQUFVLEdBQUMsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQ2hDO0VBRUksTUFBTTtJQUFDQyxJQUFJO0lBQUNDLEtBQUs7SUFBQ0MsUUFBUTtJQUFDQyxRQUFRO0lBQUNDLE9BQU87SUFBQ0MsUUFBUTtJQUFDQztFQUFTLENBQUMsR0FBQ1IsR0FBRyxDQUFDUyxJQUFJO0VBQ3hFLElBQUc7SUFFQyxNQUFNQyxRQUFRLEdBQUNiLE1BQU0sQ0FBQ2MsUUFBUSxDQUFDUCxRQUFRLEVBQUMsRUFBRSxDQUFDO0lBQ3hDLE1BQU1RLElBQUksR0FBQyxNQUFNaEIsSUFBSSxDQUFDaUIsTUFBTSxDQUFDO01BQzVCWCxJQUFJLEVBQUVBLElBQUk7TUFDTkMsS0FBSyxFQUFDQSxLQUFLO01BQ1hDLFFBQVEsRUFBQ00sUUFBUTtNQUNqQkwsUUFBUSxFQUFDQSxRQUFRO01BQ2pCQyxPQUFPLEVBQUNBLE9BQU87TUFDZkMsUUFBUSxFQUFDLEtBQUs7TUFDZEMsU0FBUyxFQUFDO0lBR2YsQ0FBQyxDQUFDO0lBQ0YsT0FBT1AsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDQyxPQUFPLEVBQUMsSUFBSTtNQUFDSixJQUFJLEVBQUNBO0lBQUksQ0FBQyxDQUFDO0VBQzVELENBQUMsQ0FD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","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","User","bcrypt","exports","createUser","req","res","name","email","password","socketId","picture","isActive","isDeleted","body","hashPass","hashSync","user","create","status","json","success","e","console","log","login","findOne","msg","match","compareSync","updateSocketId","userId","findByIdAndUpdate","getUserList","users","find","getUserBySocketId","_id"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/","sources":["userController.js"],"sourcesContent":["const User = require(\"../modal/userModal\")\nconst bcrypt=require('bcrypt')\nimport mongoose from 'mongoose'\n\nexports.createUser=async(req,res)=>\n{\n\n    const {name,email,password,socketId,picture,isActive,isDeleted}=req.body\n    try{\n\n        const hashPass=bcrypt.hashSync(password,10)\n           const user=await User.create({\n            name: name,\n                email:email,\n                password:hashPass,\n                socketId:socketId,\n                picture:picture,\n                isActive:false,\n                isDeleted:false\n            \n\n           })\n           return res.status(200).json({success:true,user:user})\n    }\n    catch(e)\n    {\n        console.log(e)\n    }\n}\n\nexports.login=async(req,res)=>\n{\n\n    const {email,password}=req.body\n    try{\n        const user = await User.findOne({email:email})\n    if(!user)\n    {\n        return res.status(404).json({success:false,msg:\"NO SUCH USER\"})\n    }\n    console.log(\"user\", user)\n   \n    const match= await bcrypt.compareSync(password, user.password)\n    if(!match)\n    {\n        return res.status(404).json({success:false,msg:\"Invalid Credential\"})\n    }\n\n    return res.status(200).json({success:true,msg:\"Login Successfully\",user:user})\n    }\n    catch(e)\n    {\n        console.log(e)\n        return res.status(500).json({success:false})\n    }\n}\n\nexport const updateSocketId=async(userId,socketId)=>\n{\n    console.log(userId)\n    console.log(\"fdsdsf\",socketId)\n    // console.log(\"before>>\",user)\n    \ntry{\n    const user = await User.findByIdAndUpdate(userId, {\n        socketId: socketId\n    });\n     console.log(\">>\",user)\n}\ncatch(e)\n{\n    console.log(e)\n}\n}\n\nexport const getUserList=async(req,res)=>{\n\n    try{\n        const users=await User.find()\n        return res.status(200).json({success:true,users:users})\n    }\ncatch(e)\n{\n    console.log(e)\n    return res.status(404).json({success:false})\n}\n\n}\nexport const getUserBySocketId=async(socketId)=>\n{\ntry{\n\n  const user=await User.findOne({socketId:socketId})\n  console.log(user)\n  return user._id\n}\ncatch(e)\n{\n    console.log(e)\n}\n}"],"mappings":"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"}},"mtime":1698402336773},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/userModal.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  default: mongoose\n} = require(\"mongoose\");\nconst userModal = mongoose.Schema({\n  name: {\n    type: String,\n    require: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  socketId: {\n    type: String,\n    default: null\n  },\n  picture: {\n    type: String,\n    default: \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.flaticon.com%2Ffree-icon%2Fprofile_6915987&psig=AOvVaw37INv_i5lvP8TGnDBut4nc&ust=1698385946762000&source=images&cd=vfe&ved=0CBEQjRxqFwoTCNCz--qCk4IDFQAAAAAdAAAAABAE\"\n  },\n  isActive: {\n    type: Boolean\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n});\nconst User = mongoose.model('User', userModal);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwibW9uZ29vc2UiLCJyZXF1aXJlIiwidXNlck1vZGFsIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJlbWFpbCIsInJlcXVpcmVkIiwicGFzc3dvcmQiLCJzb2NrZXRJZCIsInBpY3R1cmUiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJpc0RlbGV0ZWQiLCJVc2VyIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yaXlhc2luZ2gvRG9jdW1lbnRzL3JpeWEvY2hhdEFwcE1FUk4vYmFja2VuZC9tb2RhbC8iLCJzb3VyY2VzIjpbInVzZXJNb2RhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGRlZmF1bHQ6IG1vbmdvb3NlIH0gPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5cblxuY29uc3QgdXNlck1vZGFsPW1vbmdvb3NlLlNjaGVtYSh7XG5cbiAgICBuYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmU6dHJ1ZSxcbiAgICB9LFxuICAgIGVtYWlsOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWVcbiAgICB9LFxuICAgIHBhc3N3b3JkOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWVcbiAgICB9LCBcbiAgICBzb2NrZXRJZDp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICBkZWZhdWx0Om51bGxcbiAgICB9LFxuICAgIHBpY3R1cmU6e1xuICAgICAgICB0eXBlOlN0cmluZyxcbiAgICAgICAgZGVmYXVsdDpcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vdXJsP3NhPWkmdXJsPWh0dHBzJTNBJTJGJTJGd3d3LmZsYXRpY29uLmNvbSUyRmZyZWUtaWNvbiUyRnByb2ZpbGVfNjkxNTk4NyZwc2lnPUFPdlZhdzM3SU52X2k1bHZQOFRHbkRCdXQ0bmMmdXN0PTE2OTgzODU5NDY3NjIwMDAmc291cmNlPWltYWdlcyZjZD12ZmUmdmVkPTBDQkVRalJ4cUZ3b1RDTkN6LS1xQ2s0SURGUUFBQUFBZEFBQUFBQkFFXCJcbiAgICB9LFxuICAgIGlzQWN0aXZlOntcbiAgICAgICAgdHlwZTpCb29sZWFuLFxuICAgICAgICBcbiAgICB9LFxuICAgIGlzRGVsZXRlZDp7XG4gICAgICAgIHR5cGU6Qm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDpmYWxzZVxuICAgIH1cbn0pXG5cbmNvbnN0IFVzZXI9bW9uZ29vc2UubW9kZWwoJ1VzZXInLHVzZXJNb2RhbClcblxubW9kdWxlLmV4cG9ydHM9VXNlciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBLE9BQU8sRUFBRUM7QUFBUyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFHakQsTUFBTUMsU0FBUyxHQUFDRixRQUFRLENBQUNHLE1BQU0sQ0FBQztFQUU1QkMsSUFBSSxFQUFDO0lBQ0RDLElBQUksRUFBQ0MsTUFBTTtJQUNYTCxPQUFPLEVBQUM7RUFDWixDQUFDO0VBQ0RNLEtBQUssRUFBQztJQUNGRixJQUFJLEVBQUNDLE1BQU07SUFDWEUsUUFBUSxFQUFDO0VBQ2IsQ0FBQztFQUNEQyxRQUFRLEVBQUM7SUFDTEosSUFBSSxFQUFDQyxNQUFNO0lBQ1hFLFFBQVEsRUFBQztFQUNiLENBQUM7RUFDREUsUUFBUSxFQUFDO0lBQ0xMLElBQUksRUFBQ0MsTUFBTTtJQUNYUCxPQUFPLEVBQUM7RUFDWixDQUFDO0VBQ0RZLE9BQU8sRUFBQztJQUNKTixJQUFJLEVBQUNDLE1BQU07SUFDWFAsT0FBTyxFQUFDO0VBQ1osQ0FBQztFQUNEYSxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDUTtFQUVULENBQUM7RUFDREMsU0FBUyxFQUFDO0lBQ05ULElBQUksRUFBQ1EsT0FBTztJQUNaZCxPQUFPLEVBQUM7RUFDWjtBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU1nQixJQUFJLEdBQUNmLFFBQVEsQ0FBQ2dCLEtBQUssQ0FBQyxNQUFNLEVBQUNkLFNBQVMsQ0FBQztBQUUzQ2UsTUFBTSxDQUFDQyxPQUFPLEdBQUNILElBQUkifQ==","map":{"version":3,"names":["default","mongoose","require","userModal","Schema","name","type","String","email","required","password","socketId","picture","isActive","Boolean","isDeleted","User","model","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/","sources":["userModal.js"],"sourcesContent":["const { default: mongoose } = require(\"mongoose\");\n\n\nconst userModal=mongoose.Schema({\n\n    name:{\n        type:String,\n        require:true,\n    },\n    email:{\n        type:String,\n        required:true\n    },\n    password:{\n        type:String,\n        required:true\n    }, \n    socketId:{\n        type:String,\n        default:null\n    },\n    picture:{\n        type:String,\n        default:\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.flaticon.com%2Ffree-icon%2Fprofile_6915987&psig=AOvVaw37INv_i5lvP8TGnDBut4nc&ust=1698385946762000&source=images&cd=vfe&ved=0CBEQjRxqFwoTCNCz--qCk4IDFQAAAAAdAAAAABAE\"\n    },\n    isActive:{\n        type:Boolean,\n        \n    },\n    isDeleted:{\n        type:Boolean,\n        default:false\n    }\n})\n\nconst User=mongoose.model('User',userModal)\n\nmodule.exports=User"],"mappings":";;AAAA,MAAM;EAAEA,OAAO,EAAEC;AAAS,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AAGjD,MAAMC,SAAS,GAACF,QAAQ,CAACG,MAAM,CAAC;EAE5BC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXL,OAAO,EAAC;EACZ,CAAC;EACDM,KAAK,EAAC;IACFF,IAAI,EAACC,MAAM;IACXE,QAAQ,EAAC;EACb,CAAC;EACDC,QAAQ,EAAC;IACLJ,IAAI,EAACC,MAAM;IACXE,QAAQ,EAAC;EACb,CAAC;EACDE,QAAQ,EAAC;IACLL,IAAI,EAACC,MAAM;IACXP,OAAO,EAAC;EACZ,CAAC;EACDY,OAAO,EAAC;IACJN,IAAI,EAACC,MAAM;IACXP,OAAO,EAAC;EACZ,CAAC;EACDa,QAAQ,EAAC;IACLP,IAAI,EAACQ;EAET,CAAC;EACDC,SAAS,EAAC;IACNT,IAAI,EAACQ,OAAO;IACZd,OAAO,EAAC;EACZ;AACJ,CAAC,CAAC;AAEF,MAAMgB,IAAI,GAACf,QAAQ,CAACgB,KAAK,CAAC,MAAM,EAACd,SAAS,CAAC;AAE3Ce,MAAM,CAACC,OAAO,GAACH,IAAI"}},"mtime":1698314781754},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/db/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/db/db.config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  mongoose\n} = require(\"mongoose\");\nconst dotenv = require('dotenv');\ndotenv.config();\nconst uri = process.env.MONGO_URI;\nconsole.log(uri);\nmongoose.connect(uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJkb3RlbnYiLCJjb25maWciLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJJIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiXSwic291cmNlUm9vdCI6Ii9ob21lL3JpeWFzaW5naC9Eb2N1bWVudHMvcml5YS9jaGF0QXBwTUVSTi9iYWNrZW5kL2RiLyIsInNvdXJjZXMiOlsiZGIuY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgIG1vbmdvb3NlIH0gPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBkb3RlbnY9cmVxdWlyZSgnZG90ZW52JylcbmRvdGVudi5jb25maWcoKVxuXG5jb25zdCB1cmk9cHJvY2Vzcy5lbnYuTU9OR09fVVJJXG5jb25zb2xlLmxvZyh1cmkpXG5tb25nb29zZS5jb25uZWN0KHVyaSxcbiAge1xuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbiAgfVxuKTsiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTTtFQUFHQTtBQUFTLENBQUMsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUN6QyxNQUFNQyxNQUFNLEdBQUNELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDOUJDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFZixNQUFNQyxHQUFHLEdBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxTQUFTO0FBQy9CQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0wsR0FBRyxDQUFDO0FBQ2hCSixRQUFRLENBQUNVLE9BQU8sQ0FBQ04sR0FBRyxFQUNsQjtFQUNFTyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsa0JBQWtCLEVBQUU7QUFDdEIsQ0FDRixDQUFDIn0=","map":{"version":3,"names":["mongoose","require","dotenv","config","uri","process","env","MONGO_URI","console","log","connect","useNewUrlParser","useUnifiedTopology"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/db/","sources":["db.config.js"],"sourcesContent":["const {  mongoose } = require(\"mongoose\");\nconst dotenv=require('dotenv')\ndotenv.config()\n\nconst uri=process.env.MONGO_URI\nconsole.log(uri)\nmongoose.connect(uri,\n  {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  }\n);"],"mappings":";;AAAA,MAAM;EAAGA;AAAS,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AACzC,MAAMC,MAAM,GAACD,OAAO,CAAC,QAAQ,CAAC;AAC9BC,MAAM,CAACC,MAAM,CAAC,CAAC;AAEf,MAAMC,GAAG,GAACC,OAAO,CAACC,GAAG,CAACC,SAAS;AAC/BC,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;AAChBJ,QAAQ,CAACU,OAAO,CAACN,GAAG,EAClB;EACEO,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CACF,CAAC"}},"mtime":1698298657613},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/chatRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nvar chatRoomController = _interopRequireWildcard(require(\"../Controller/chatController\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst route = require('express').Router();\nroute.get('/get-chat', chatRoomController.getChat);\nmodule.exports = route;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGF0Um9vbUNvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJyb3V0ZSIsIlJvdXRlciIsImdldENoYXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yaXlhc2luZ2gvRG9jdW1lbnRzL3JpeWEvY2hhdEFwcE1FUk4vYmFja2VuZC9Sb3V0ZXMvIiwic291cmNlcyI6WyJjaGF0Um91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY2hhdFJvb21Db250cm9sbGVyIGZyb20gJy4uL0NvbnRyb2xsZXIvY2hhdENvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlPXJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKVxuXG5cbnJvdXRlLmdldCgnL2dldC1jaGF0JyxjaGF0Um9vbUNvbnRyb2xsZXIuZ2V0Q2hhdClcblxuXG5cblxubW9kdWxlLmV4cG9ydHM9cm91dGUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsa0JBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUFrRSxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUVsRSxNQUFNWSxLQUFLLEdBQUN0QixPQUFPLENBQUMsU0FBUyxDQUFDLENBQUN1QixNQUFNLENBQUMsQ0FBQztBQUd2Q0QsS0FBSyxDQUFDYixHQUFHLENBQUMsV0FBVyxFQUFDWCxrQkFBa0IsQ0FBQzBCLE9BQU8sQ0FBQztBQUtqREMsTUFBTSxDQUFDQyxPQUFPLEdBQUNKLEtBQUsifQ==","map":{"version":3,"names":["chatRoomController","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","route","Router","getChat","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/","sources":["chatRoute.js"],"sourcesContent":["import * as chatRoomController from '../Controller/chatController'\n\nconst route=require('express').Router()\n\n\nroute.get('/get-chat',chatRoomController.getChat)\n\n\n\n\nmodule.exports=route"],"mappings":";;AAAA,IAAAA,kBAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAkE,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAElE,MAAMY,KAAK,GAACtB,OAAO,CAAC,SAAS,CAAC,CAACuB,MAAM,CAAC,CAAC;AAGvCD,KAAK,CAACb,GAAG,CAAC,WAAW,EAACX,kBAAkB,CAAC0B,OAAO,CAAC;AAKjDC,MAAM,CAACC,OAAO,GAACJ,KAAK"}},"mtime":1698305297411},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/chatController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getChat = exports.createChat = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// const { default: mongoose } = require(\"mongoose\")\nconst Chat = require(\"../modal/chatModal\");\nconst getChat = async (req, res) => {\n  console.log(req.query);\n  let userId = req.query.userId;\n  userId = new _mongoose.default.Types.ObjectId(userId);\n  try {\n    // const chats=Chat.find({ participants:{$in:[userId]}})\n\n    const chats = await Chat.aggregate([{\n      $match: {\n        participants: {\n          $in: [userId]\n        }\n      }\n    }, {\n      $lookup: {\n        from: 'Messages',\n        let: {\n          chatId: '$_id'\n        },\n        pipeline: [{\n          $match: {\n            $expr: {\n              $eq: ['$chatId', '$$chatId']\n            }\n          }\n        }, {\n          $project: {\n            _id: 0,\n            sender: 1,\n            receiver: 1\n          }\n        }, {\n          $lookup: {\n            from: 'Users',\n            localField: 'sender',\n            foreignField: '_id',\n            as: 'senderInfo'\n          }\n        }, {\n          $lookup: {\n            from: 'Users',\n            localField: 'receiver',\n            foreignField: '_id',\n            as: 'receiverInfo'\n          }\n        }],\n        as: 'messages'\n      }\n    }]);\n    console.log(chats);\n    if (chats.length) {\n      return res.status(200).json({\n        success: true,\n        chats: chats\n      });\n    }\n    return res.status(404).json({\n      success: true,\n      msg: \"No Data\"\n    });\n  } catch (e) {\n    console.log(e);\n    return res.status(500).json({\n      success: false\n    });\n  }\n};\n\n// export const createChat=async(id,userId)=>\n// {\n\n//     const s_id=new mongoose.Types.ObjectId(id)\n//     const r_id=new mongoose.Types.ObjectId(userId)\n// try{\n\n//     const existingChat=await Chat.findOne({participants: { $in: [r_id,s_id] }})\n//     if(!existingChat)\n//     {\n//     const chat=await Chat.create({\n//         isGroupChat: false,\n//             participants:[id,userId],\n//             latestMessage: null,\n//             lastMsgDate:null ,\n//             lastMsgBy:null ,\n//             groupAdmin: null,\n//             unreadCount: null,\n\n//     })\n// }\n// }\n// catch(e)\n// {\n//     console.log(e)\n// }\n\n// }\nexports.getChat = getChat;\nconst createChat = async data => {\n  try {\n    // console.log(\"in create\", data);\n    // return;\n    //         const s_id =new mongoose.Types.ObjectId(id);\n    //         const r_id = new mongoose.Types.ObjectId(userId);\n    // console.log(id,userId)\n    const existingChat = await Chat.findOne({\n      participants: {\n        $all: [data.recId, data.id]\n      }\n    });\n    if (!existingChat) {\n      const chat = await Chat.create({\n        isGroupChat: false,\n        participants: [data.recId, data.id],\n        latestMessage: data.message,\n        lastMsgDate: null,\n        lastMsgBy: null,\n        groupAdmin: null,\n        unreadCount: null\n      });\n      return chat;\n    }\n    return existingChat;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\nexports.createChat = createChat;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiQ2hhdCIsImdldENoYXQiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwicXVlcnkiLCJ1c2VySWQiLCJtb25nb29zZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJjaGF0cyIsImFnZ3JlZ2F0ZSIsIiRtYXRjaCIsInBhcnRpY2lwYW50cyIsIiRpbiIsIiRsb29rdXAiLCJmcm9tIiwibGV0IiwiY2hhdElkIiwicGlwZWxpbmUiLCIkZXhwciIsIiRlcSIsIiRwcm9qZWN0IiwiX2lkIiwic2VuZGVyIiwicmVjZWl2ZXIiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1zZyIsImUiLCJleHBvcnRzIiwiY3JlYXRlQ2hhdCIsImRhdGEiLCJleGlzdGluZ0NoYXQiLCJmaW5kT25lIiwiJGFsbCIsInJlY0lkIiwiaWQiLCJjaGF0IiwiY3JlYXRlIiwiaXNHcm91cENoYXQiLCJsYXRlc3RNZXNzYWdlIiwibWVzc2FnZSIsImxhc3RNc2dEYXRlIiwibGFzdE1zZ0J5IiwiZ3JvdXBBZG1pbiIsInVucmVhZENvdW50IiwiZXJyb3IiXSwic291cmNlUm9vdCI6Ii9ob21lL3JpeWFzaW5naC9Eb2N1bWVudHMvcml5YS9jaGF0QXBwTUVSTi9iYWNrZW5kL0NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJjaGF0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb25zdCB7IGRlZmF1bHQ6IG1vbmdvb3NlIH0gPSByZXF1aXJlKFwibW9uZ29vc2VcIilcbmNvbnN0IENoYXQgPSByZXF1aXJlKFwiLi4vbW9kYWwvY2hhdE1vZGFsXCIpXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5cbmV4cG9ydCBjb25zdCBnZXRDaGF0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLnF1ZXJ5KVxuICAgIGxldCB1c2VySWQgPSByZXEucXVlcnkudXNlcklkXG4gICAgdXNlcklkPSBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQodXNlcklkKVxuICAgIHRyeSB7XG5cbiAgICAgICAgLy8gY29uc3QgY2hhdHM9Q2hhdC5maW5kKHsgcGFydGljaXBhbnRzOnskaW46W3VzZXJJZF19fSlcblxuICAgICAgICBjb25zdCBjaGF0cyA9IGF3YWl0IENoYXQuYWdncmVnYXRlKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzOiB7ICRpbjogW3VzZXJJZF0gfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJGxvb2t1cDoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnTWVzc2FnZXMnLFxuICAgICAgICAgICAgICAgICAgICBsZXQ6IHsgY2hhdElkOiAnJF9pZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV4cHI6IHsgJGVxOiBbJyRjaGF0SWQnLCAnJCRjaGF0SWQnXSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXI6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb29rdXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJ1VzZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxGaWVsZDogJ3NlbmRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVpZ25GaWVsZDogJ19pZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzOiAnc2VuZGVySW5mbydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb29rdXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJ1VzZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxGaWVsZDogJ3JlY2VpdmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWlnbkZpZWxkOiAnX2lkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXM6ICdyZWNlaXZlckluZm8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGFzOiAnbWVzc2FnZXMnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdKVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGNoYXRzKVxuICAgICAgICBpZiAoY2hhdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBjaGF0czogY2hhdHMgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N1Y2Nlc3M6dHJ1ZSxtc2c6XCJObyBEYXRhXCJ9KVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KVxuICAgIH1cbn1cblxuLy8gZXhwb3J0IGNvbnN0IGNyZWF0ZUNoYXQ9YXN5bmMoaWQsdXNlcklkKT0+XG4vLyB7XG5cbi8vICAgICBjb25zdCBzX2lkPW5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZChpZClcbi8vICAgICBjb25zdCByX2lkPW5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZCh1c2VySWQpXG4vLyB0cnl7XG5cbi8vICAgICBjb25zdCBleGlzdGluZ0NoYXQ9YXdhaXQgQ2hhdC5maW5kT25lKHtwYXJ0aWNpcGFudHM6IHsgJGluOiBbcl9pZCxzX2lkXSB9fSlcbi8vICAgICBpZighZXhpc3RpbmdDaGF0KVxuLy8gICAgIHtcbi8vICAgICBjb25zdCBjaGF0PWF3YWl0IENoYXQuY3JlYXRlKHtcbi8vICAgICAgICAgaXNHcm91cENoYXQ6IGZhbHNlLFxuLy8gICAgICAgICAgICAgcGFydGljaXBhbnRzOltpZCx1c2VySWRdLFxuLy8gICAgICAgICAgICAgbGF0ZXN0TWVzc2FnZTogbnVsbCxcbi8vICAgICAgICAgICAgIGxhc3RNc2dEYXRlOm51bGwgLFxuLy8gICAgICAgICAgICAgbGFzdE1zZ0J5Om51bGwgLFxuLy8gICAgICAgICAgICAgZ3JvdXBBZG1pbjogbnVsbCxcbi8vICAgICAgICAgICAgIHVucmVhZENvdW50OiBudWxsLFxuICAgICAgICBcbi8vICAgICB9KVxuLy8gfVxuLy8gfVxuLy8gY2F0Y2goZSlcbi8vIHtcbi8vICAgICBjb25zb2xlLmxvZyhlKVxuLy8gfVxuICAgIFxuXG4vLyB9XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVDaGF0ID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImluIGNyZWF0ZVwiLCBkYXRhKTtcbiAgICAgICAgLy8gcmV0dXJuO1xuLy8gICAgICAgICBjb25zdCBzX2lkID1uZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQoaWQpO1xuLy8gICAgICAgICBjb25zdCByX2lkID0gbmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKHVzZXJJZCk7XG4vLyBjb25zb2xlLmxvZyhpZCx1c2VySWQpXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQ2hhdCA9IGF3YWl0IENoYXQuZmluZE9uZSh7IHBhcnRpY2lwYW50czogeyAkYWxsOiBbZGF0YS5yZWNJZCwgZGF0YS5pZF0gfSB9KTtcblxuICAgICAgICBpZiAoIWV4aXN0aW5nQ2hhdCkge1xuICAgICAgICAgICAgY29uc3QgY2hhdCA9IGF3YWl0IENoYXQuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBpc0dyb3VwQ2hhdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRzOiBbZGF0YS5yZWNJZCwgZGF0YS5pZF0sXG4gICAgICAgICAgICAgICAgbGF0ZXN0TWVzc2FnZTogZGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGxhc3RNc2dEYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhc3RNc2dCeTogbnVsbCxcbiAgICAgICAgICAgICAgICBncm91cEFkbWluOiBudWxsLFxuICAgICAgICAgICAgICAgIHVucmVhZENvdW50OiBudWxsLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBjaGF0OyBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleGlzdGluZ0NoYXQ7IFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjsgXG4gICAgfVxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUYvQjtBQUNBLE1BQU1HLElBQUksR0FBR0osT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBR25DLE1BQU1LLE9BQU8sR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN2Q0MsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQ0ksS0FBSyxDQUFDO0VBQ3RCLElBQUlDLE1BQU0sR0FBR0wsR0FBRyxDQUFDSSxLQUFLLENBQUNDLE1BQU07RUFDN0JBLE1BQU0sR0FBRSxJQUFJQyxpQkFBUSxDQUFDQyxLQUFLLENBQUNDLFFBQVEsQ0FBQ0gsTUFBTSxDQUFDO0VBQzNDLElBQUk7SUFFQTs7SUFFQSxNQUFNSSxLQUFLLEdBQUcsTUFBTVgsSUFBSSxDQUFDWSxTQUFTLENBQUMsQ0FDL0I7TUFDSUMsTUFBTSxFQUFFO1FBQ0pDLFlBQVksRUFBRTtVQUFFQyxHQUFHLEVBQUUsQ0FBQ1IsTUFBTTtRQUFFO01BQ2xDO0lBQ0osQ0FBQyxFQUNEO01BQ0lTLE9BQU8sRUFBRTtRQUNMQyxJQUFJLEVBQUUsVUFBVTtRQUNoQkMsR0FBRyxFQUFFO1VBQUVDLE1BQU0sRUFBRTtRQUFPLENBQUM7UUFDdkJDLFFBQVEsRUFBRSxDQUNOO1VBQ0lQLE1BQU0sRUFBRTtZQUNKUSxLQUFLLEVBQUU7Y0FBRUMsR0FBRyxFQUFFLENBQUMsU0FBUyxFQUFFLFVBQVU7WUFBRTtVQUMxQztRQUNKLENBQUMsRUFDRDtVQUNJQyxRQUFRLEVBQUU7WUFDTkMsR0FBRyxFQUFFLENBQUM7WUFD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","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Chat","getChat","req","res","console","log","query","userId","mongoose","Types","ObjectId","chats","aggregate","$match","participants","$in","$lookup","from","let","chatId","pipeline","$expr","$eq","$project","_id","sender","receiver","localField","foreignField","as","length","status","json","success","msg","e","exports","createChat","data","existingChat","findOne","$all","recId","id","chat","create","isGroupChat","latestMessage","message","lastMsgDate","lastMsgBy","groupAdmin","unreadCount","error"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/","sources":["chatController.js"],"sourcesContent":["// const { default: mongoose } = require(\"mongoose\")\nconst Chat = require(\"../modal/chatModal\")\nimport mongoose from 'mongoose'\n\nexport const getChat = async (req, res) => {\n    console.log(req.query)\n    let userId = req.query.userId\n    userId= new mongoose.Types.ObjectId(userId)\n    try {\n\n        // const chats=Chat.find({ participants:{$in:[userId]}})\n\n        const chats = await Chat.aggregate([\n            {\n                $match: {\n                    participants: { $in: [userId] }\n                }\n            },\n            {\n                $lookup: {\n                    from: 'Messages',\n                    let: { chatId: '$_id' },\n                    pipeline: [\n                        {\n                            $match: {\n                                $expr: { $eq: ['$chatId', '$$chatId'] }\n                            }\n                        },\n                        {\n                            $project: {\n                                _id: 0,\n                                sender: 1,\n                                receiver: 1\n                            }\n                        },\n                        {\n                            $lookup: {\n                                from: 'Users',\n                                localField: 'sender',\n                                foreignField: '_id',\n                                as: 'senderInfo'\n                            }\n                        },\n                        {\n                            $lookup: {\n                                from: 'Users',\n                                localField: 'receiver',\n                                foreignField: '_id',\n                                as: 'receiverInfo'\n                            }\n                        }\n\n                    ],\n                    as: 'messages'\n                }\n            }\n        ])\n\n        console.log(chats)\n        if (chats.length) {\n            return res.status(200).json({ success: true, chats: chats })\n        }\n        return res.status(404).json({success:true,msg:\"No Data\"})\n    }\n    catch (e) {\n        console.log(e)\n        return res.status(500).json({ success: false })\n    }\n}\n\n// export const createChat=async(id,userId)=>\n// {\n\n//     const s_id=new mongoose.Types.ObjectId(id)\n//     const r_id=new mongoose.Types.ObjectId(userId)\n// try{\n\n//     const existingChat=await Chat.findOne({participants: { $in: [r_id,s_id] }})\n//     if(!existingChat)\n//     {\n//     const chat=await Chat.create({\n//         isGroupChat: false,\n//             participants:[id,userId],\n//             latestMessage: null,\n//             lastMsgDate:null ,\n//             lastMsgBy:null ,\n//             groupAdmin: null,\n//             unreadCount: null,\n        \n//     })\n// }\n// }\n// catch(e)\n// {\n//     console.log(e)\n// }\n    \n\n// }\n\nexport const createChat = async (data) => {\n    try {\n        // console.log(\"in create\", data);\n        // return;\n//         const s_id =new mongoose.Types.ObjectId(id);\n//         const r_id = new mongoose.Types.ObjectId(userId);\n// console.log(id,userId)\n        const existingChat = await Chat.findOne({ participants: { $all: [data.recId, data.id] } });\n\n        if (!existingChat) {\n            const chat = await Chat.create({\n                isGroupChat: false,\n                participants: [data.recId, data.id],\n                latestMessage: data.message,\n                lastMsgDate: null,\n                lastMsgBy: null,\n                groupAdmin: null,\n                unreadCount: null,\n            });\n\n            return chat; \n        }\n\n        return existingChat; \n    } catch (error) {\n        console.error(error);\n        throw error; \n    }\n};"],"mappings":"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"}},"mtime":1698411616271},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/chatModal.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  default: mongoose\n} = require(\"mongoose\");\nconst chatModal = mongoose.Schema({\n  isGroupChat: {\n    type: Boolean,\n    default: false\n  },\n  participants: [{\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  }],\n  latestMessage: {\n    type: String,\n    default: null\n  },\n  lastMsgDate: {\n    type: Date,\n    default: Date.now\n  },\n  lastMsgBy: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  groupAdmin: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  unreadCount: {\n    type: Number\n  }\n}, {\n  timestamps: true\n});\nconst Chat = mongoose.model(\"Chat\", chatModal);\nmodule.exports = Chat;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwibW9uZ29vc2UiLCJyZXF1aXJlIiwiY2hhdE1vZGFsIiwiU2NoZW1hIiwiaXNHcm91cENoYXQiLCJ0eXBlIiwiQm9vbGVhbiIsInBhcnRpY2lwYW50cyIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJsYXRlc3RNZXNzYWdlIiwiU3RyaW5nIiwibGFzdE1zZ0RhdGUiLCJEYXRlIiwibm93IiwibGFzdE1zZ0J5IiwiZ3JvdXBBZG1pbiIsInVucmVhZENvdW50IiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNoYXQiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3JpeWFzaW5naC9Eb2N1bWVudHMvcml5YS9jaGF0QXBwTUVSTi9iYWNrZW5kL21vZGFsLyIsInNvdXJjZXMiOlsiY2hhdE1vZGFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZGVmYXVsdDogbW9uZ29vc2UgfSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcblxuY29uc3QgY2hhdE1vZGFsID0gbW9uZ29vc2UuU2NoZW1hKHtcblxuICAgIGlzR3JvdXBDaGF0OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBwYXJ0aWNpcGFudHM6IFt7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiAnVXNlcidcbiAgICB9XSxcbiAgICBsYXRlc3RNZXNzYWdlOiB7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICBkZWZhdWx0Om51bGxcblxuICAgIH0sXG4gICAgbGFzdE1zZ0RhdGU6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9LFxuICAgIGxhc3RNc2dCeToge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1VzZXInXG4gICAgfSxcbiAgICBncm91cEFkbWluOiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiBcIlVzZXJcIlxuICAgIH0sXG4gICAgdW5yZWFkQ291bnQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyXG4gICAgfVxufSxcbiAgICB7XG4gICAgICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgICB9KVxuXG5jb25zdCBDaGF0ID0gbW9uZ29vc2UubW9kZWwoXCJDaGF0XCIsIGNoYXRNb2RhbClcblxubW9kdWxlLmV4cG9ydHMgPSBDaGF0Il0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU07RUFBRUEsT0FBTyxFQUFFQztBQUFTLENBQUMsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVqRCxNQUFNQyxTQUFTLEdBQUdGLFFBQVEsQ0FBQ0csTUFBTSxDQUFDO0VBRTlCQyxXQUFXLEVBQUU7SUFDVEMsSUFBSSxFQUFFQyxPQUFPO0lBQ2JQLE9BQU8sRUFBRTtFQUNiLENBQUM7RUFDRFEsWUFBWSxFQUFFLENBQUM7SUFDWEYsSUFBSSxFQUFFTCxRQUFRLENBQUNHLE1BQU0sQ0FBQ0ssS0FBSyxDQUFDQyxRQUFRO0lBQ3BDQyxHQUFHLEVBQUU7RUFDVCxDQUFDLENBQUM7RUFDRkMsYUFBYSxFQUFFO0lBQ1hOLElBQUksRUFBQ08sTUFBTTtJQUNYYixPQUFPLEVBQUM7RUFFWixDQUFDO0VBQ0RjLFdBQVcsRUFBRTtJQUNUUixJQUFJLEVBQUVTLElBQUk7SUFDVmYsT0FBTyxFQUFFZSxJQUFJLENBQUNDO0VBQ2xCLENBQUM7RUFDREMsU0FBUyxFQUFFO0lBQ1BYLElBQUksRUFBRUwsUUFBUSxDQUFDRyxNQUFNLENBQUNLLEtBQUssQ0FBQ0MsUUFBUTtJQUNwQ0MsR0FBRyxFQUFFO0VBQ1QsQ0FBQztFQUNETyxVQUFVLEVBQUU7SUFDUlosSUFBSSxFQUFFTCxRQUFRLENBQUNHLE1BQU0sQ0FBQ0ssS0FBSyxDQUFDQyxRQUFRO0lBQ3BDQyxHQUFHLEVBQUU7RUFDVCxDQUFDO0VBQ0RRLFdBQVcsRUFBRTtJQUNUYixJQUFJLEVBQUVjO0VBQ1Y7QUFDSixDQUFDLEVBQ0c7RUFDSUMsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVOLE1BQU1DLElBQUksR0FBR3JCLFFBQVEsQ0FBQ3NCLEtBQUssQ0FBQyxNQUFNLEVBQUVwQixTQUFTLENBQUM7QUFFOUNxQixNQUFNLENBQUNDLE9BQU8sR0FBR0gsSUFBSSJ9","map":{"version":3,"names":["default","mongoose","require","chatModal","Schema","isGroupChat","type","Boolean","participants","Types","ObjectId","ref","latestMessage","String","lastMsgDate","Date","now","lastMsgBy","groupAdmin","unreadCount","Number","timestamps","Chat","model","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/","sources":["chatModal.js"],"sourcesContent":["const { default: mongoose } = require(\"mongoose\");\n\nconst chatModal = mongoose.Schema({\n\n    isGroupChat: {\n        type: Boolean,\n        default: false\n    },\n    participants: [{\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User'\n    }],\n    latestMessage: {\n        type:String,\n        default:null\n\n    },\n    lastMsgDate: {\n        type: Date,\n        default: Date.now\n    },\n    lastMsgBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User'\n    },\n    groupAdmin: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: \"User\"\n    },\n    unreadCount: {\n        type: Number\n    }\n},\n    {\n        timestamps: true\n    })\n\nconst Chat = mongoose.model(\"Chat\", chatModal)\n\nmodule.exports = Chat"],"mappings":";;AAAA,MAAM;EAAEA,OAAO,EAAEC;AAAS,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEjD,MAAMC,SAAS,GAAGF,QAAQ,CAACG,MAAM,CAAC;EAE9BC,WAAW,EAAE;IACTC,IAAI,EAAEC,OAAO;IACbP,OAAO,EAAE;EACb,CAAC;EACDQ,YAAY,EAAE,CAAC;IACXF,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACK,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACT,CAAC,CAAC;EACFC,aAAa,EAAE;IACXN,IAAI,EAACO,MAAM;IACXb,OAAO,EAAC;EAEZ,CAAC;EACDc,WAAW,EAAE;IACTR,IAAI,EAAES,IAAI;IACVf,OAAO,EAAEe,IAAI,CAACC;EAClB,CAAC;EACDC,SAAS,EAAE;IACPX,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACK,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACT,CAAC;EACDO,UAAU,EAAE;IACRZ,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACK,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACT,CAAC;EACDQ,WAAW,EAAE;IACTb,IAAI,EAAEc;EACV;AACJ,CAAC,EACG;EACIC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEN,MAAMC,IAAI,GAAGrB,QAAQ,CAACsB,KAAK,CAAC,MAAM,EAAEpB,SAAS,CAAC;AAE9CqB,MAAM,CAACC,OAAO,GAAGH,IAAI"}},"mtime":1698411664648},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/userRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  createUser,\n  login,\n  getUserList\n} = require('../Controller/userController');\nconst route = require('express').Router();\nroute.post('/create-user', createUser);\nroute.post('/login', login);\nroute.get('/get-user-list', getUserList);\nmodule.exports = route;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVVc2VyIiwibG9naW4iLCJnZXRVc2VyTGlzdCIsInJlcXVpcmUiLCJyb3V0ZSIsIlJvdXRlciIsInBvc3QiLCJnZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yaXlhc2luZ2gvRG9jdW1lbnRzL3JpeWEvY2hhdEFwcE1FUk4vYmFja2VuZC9Sb3V0ZXMvIiwic291cmNlcyI6WyJ1c2VyUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBjcmVhdGVVc2VyLCBsb2dpbixnZXRVc2VyTGlzdCB9ID0gcmVxdWlyZSgnLi4vQ29udHJvbGxlci91c2VyQ29udHJvbGxlcicpXG5cbmNvbnN0IHJvdXRlPXJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKVxuXG5cbnJvdXRlLnBvc3QoJy9jcmVhdGUtdXNlcicsY3JlYXRlVXNlcilcbnJvdXRlLnBvc3QoJy9sb2dpbicsbG9naW4pXG5yb3V0ZS5nZXQoJy9nZXQtdXNlci1saXN0JyxnZXRVc2VyTGlzdClcblxuXG5tb2R1bGUuZXhwb3J0cz1yb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBLFVBQVU7RUFBRUMsS0FBSztFQUFDQztBQUFZLENBQUMsR0FBR0MsT0FBTyxDQUFDLDhCQUE4QixDQUFDO0FBRWpGLE1BQU1DLEtBQUssR0FBQ0QsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDRSxNQUFNLENBQUMsQ0FBQztBQUd2Q0QsS0FBSyxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFDTixVQUFVLENBQUM7QUFDckNJLEtBQUssQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0wsS0FBSyxDQUFDO0FBQzFCRyxLQUFLLENBQUNHLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBQ0wsV0FBVyxDQUFDO0FBR3ZDTSxNQUFNLENBQUNDLE9BQU8sR0FBQ0wsS0FBSyJ9","map":{"version":3,"names":["createUser","login","getUserList","require","route","Router","post","get","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Routes/","sources":["userRoute.js"],"sourcesContent":["const { createUser, login,getUserList } = require('../Controller/userController')\n\nconst route=require('express').Router()\n\n\nroute.post('/create-user',createUser)\nroute.post('/login',login)\nroute.get('/get-user-list',getUserList)\n\n\nmodule.exports=route"],"mappings":";;AAAA,MAAM;EAAEA,UAAU;EAAEC,KAAK;EAACC;AAAY,CAAC,GAAGC,OAAO,CAAC,8BAA8B,CAAC;AAEjF,MAAMC,KAAK,GAACD,OAAO,CAAC,SAAS,CAAC,CAACE,MAAM,CAAC,CAAC;AAGvCD,KAAK,CAACE,IAAI,CAAC,cAAc,EAACN,UAAU,CAAC;AACrCI,KAAK,CAACE,IAAI,CAAC,QAAQ,EAACL,KAAK,CAAC;AAC1BG,KAAK,CAACG,GAAG,CAAC,gBAAgB,EAACL,WAAW,CAAC;AAGvCM,MAAM,CAACC,OAAO,GAACL,KAAK"}},"mtime":1698322525650},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateSocketId = exports.getUserList = exports.getUserBySocketId = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst User = require(\"../modal/userModal\");\nconst bcrypt = require('bcrypt');\nexports.createUser = async (req, res) => {\n  const {\n    name,\n    email,\n    password,\n    socketId,\n    picture,\n    isActive,\n    isDeleted\n  } = req.body;\n  try {\n    const hashPass = bcrypt.hashSync(password, 10);\n    const user = await User.create({\n      name: name,\n      email: email,\n      password: hashPass,\n      socketId: socketId,\n      picture: picture,\n      isActive: false,\n      isDeleted: false\n    });\n    return res.status(200).json({\n      success: true,\n      user: user\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.login = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  try {\n    const user = await User.findOne({\n      email: email\n    });\n    if (!user) {\n      return res.status(404).json({\n        success: false,\n        msg: \"NO SUCH USER\"\n      });\n    }\n    console.log(\"user\", user);\n    const match = await bcrypt.compareSync(password, user.password);\n    if (!match) {\n      return res.status(404).json({\n        success: false,\n        msg: \"Invalid Credential\"\n      });\n    }\n    return res.status(200).json({\n      success: true,\n      msg: \"Login Successfully\",\n      user: user\n    });\n  } catch (e) {\n    console.log(e);\n    return res.status(500).json({\n      success: false\n    });\n  }\n};\nconst updateSocketId = async (userId, socketId) => {\n  console.log(userId);\n  console.log(\"fdsdsf\", socketId);\n  // console.log(\"before>>\",user)\n\n  try {\n    const user = await User.findByIdAndUpdate(userId, {\n      socketId: socketId\n    });\n    console.log(\">>\", user);\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.updateSocketId = updateSocketId;\nconst getUserList = async (req, res) => {\n  try {\n    const users = await User.find();\n    return res.status(200).json({\n      success: true,\n      users: users\n    });\n  } catch (e) {\n    console.log(e);\n    return res.status(404).json({\n      success: false\n    });\n  }\n};\nexports.getUserList = getUserList;\nconst getUserBySocketId = async socketId => {\n  try {\n    const user = await User.findOne({\n      socketId: socketId\n    });\n    console.log(user);\n    return user._id;\n  } catch (e) {\n    console.log(e);\n  }\n};\nexports.getUserBySocketId = getUserBySocketId;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiVXNlciIsImJjcnlwdCIsImV4cG9ydHMiLCJjcmVhdGVVc2VyIiwicmVxIiwicmVzIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJzb2NrZXRJZCIsInBpY3R1cmUiLCJpc0FjdGl2ZSIsImlzRGVsZXRlZCIsImJvZHkiLCJoYXNoUGFzcyIsImhhc2hTeW5jIiwidXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJsb2dpbiIsImZpbmRPbmUiLCJtc2ciLCJtYXRjaCIsImNvbXBhcmVTeW5jIiwidXBkYXRlU29ja2V0SWQiLCJ1c2VySWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImdldFVzZXJMaXN0IiwidXNlcnMiLCJmaW5kIiwiZ2V0VXNlckJ5U29ja2V0SWQiLCJfaWQiXSwic291cmNlUm9vdCI6Ii9ob21lL3JpeWFzaW5naC9Eb2N1bWVudHMvcml5YS9jaGF0QXBwTUVSTi9iYWNrZW5kL0NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJ1c2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID0gcmVxdWlyZShcIi4uL21vZGFsL3VzZXJNb2RhbFwiKVxuY29uc3QgYmNyeXB0PXJlcXVpcmUoJ2JjcnlwdCcpXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5cbmV4cG9ydHMuY3JlYXRlVXNlcj1hc3luYyhyZXEscmVzKT0+XG57XG5cbiAgICBjb25zdCB7bmFtZSxlbWFpbCxwYXNzd29yZCxzb2NrZXRJZCxwaWN0dXJlLGlzQWN0aXZlLGlzRGVsZXRlZH09cmVxLmJvZHlcbiAgICB0cnl7XG5cbiAgICAgICAgY29uc3QgaGFzaFBhc3M9YmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLDEwKVxuICAgICAgICAgICBjb25zdCB1c2VyPWF3YWl0IFVzZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6ZW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6aGFzaFBhc3MsXG4gICAgICAgICAgICAgICAgc29ja2V0SWQ6c29ja2V0SWQsXG4gICAgICAgICAgICAgICAgcGljdHVyZTpwaWN0dXJlLFxuICAgICAgICAgICAgICAgIGlzQWN0aXZlOmZhbHNlLFxuICAgICAgICAgICAgICAgIGlzRGVsZXRlZDpmYWxzZVxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgfSlcbiAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtzdWNjZXNzOnRydWUsdXNlcjp1c2VyfSlcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxufVxuXG5leHBvcnRzLmxvZ2luPWFzeW5jKHJlcSxyZXMpPT5cbntcblxuICAgIGNvbnN0IHtlbWFpbCxwYXNzd29yZH09cmVxLmJvZHlcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSlcbiAgICBpZighdXNlcilcbiAgICB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7c3VjY2VzczpmYWxzZSxtc2c6XCJOTyBTVUNIIFVTRVJcIn0pXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwidXNlclwiLCB1c2VyKVxuICAgXG4gICAgY29uc3QgbWF0Y2g9IGF3YWl0IGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgdXNlci5wYXNzd29yZClcbiAgICBpZighbWF0Y2gpXG4gICAge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsbXNnOlwiSW52YWxpZCBDcmVkZW50aWFsXCJ9KVxuICAgIH1cblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7c3VjY2Vzczp0cnVlLG1zZzpcIkxvZ2luIFN1Y2Nlc3NmdWxseVwiLHVzZXI6dXNlcn0pXG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe3N1Y2Nlc3M6ZmFsc2V9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVNvY2tldElkPWFzeW5jKHVzZXJJZCxzb2NrZXRJZCk9Plxue1xuICAgIGNvbnNvbGUubG9nKHVzZXJJZClcbiAgICBjb25zb2xlLmxvZyhcImZkc2RzZlwiLHNvY2tldElkKVxuICAgIC8vIGNvbnNvbGUubG9nKFwiYmVmb3JlPj5cIix1c2VyKVxuICAgIFxudHJ5e1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHVzZXJJZCwge1xuICAgICAgICBzb2NrZXRJZDogc29ja2V0SWRcbiAgICB9KTtcbiAgICAgY29uc29sZS5sb2coXCI+PlwiLHVzZXIpXG59XG5jYXRjaChlKVxue1xuICAgIGNvbnNvbGUubG9nKGUpXG59XG59XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyTGlzdD1hc3luYyhyZXEscmVzKT0+e1xuXG4gICAgdHJ5e1xuICAgICAgICBjb25zdCB1c2Vycz1hd2FpdCBVc2VyLmZpbmQoKVxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3N1Y2Nlc3M6dHJ1ZSx1c2Vyczp1c2Vyc30pXG4gICAgfVxuY2F0Y2goZSlcbntcbiAgICBjb25zb2xlLmxvZyhlKVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7c3VjY2VzczpmYWxzZX0pXG59XG5cbn1cbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlTb2NrZXRJZD1hc3luYyhzb2NrZXRJZCk9Plxue1xudHJ5e1xuXG4gIGNvbnN0IHVzZXI9YXdhaXQgVXNlci5maW5kT25lKHtzb2NrZXRJZDpzb2NrZXRJZH0pXG4gIGNvbnNvbGUubG9nKHVzZXIpXG4gIHJldHVybiB1c2VyLl9pZFxufVxuY2F0Y2goZSlcbntcbiAgICBjb25zb2xlLmxvZyhlKVxufVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRi9CLE1BQU1HLElBQUksR0FBR0osT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQzFDLE1BQU1LLE1BQU0sR0FBQ0wsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUc5Qk0sT0FBTyxDQUFDQyxVQUFVLEdBQUMsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQ2hDO0VBRUksTUFBTTtJQUFDQyxJQUFJO0lBQUNDLEtBQUs7SUFBQ0MsUUFBUTtJQUFDQyxRQUFRO0lBQUNDLE9BQU87SUFBQ0MsUUFBUTtJQUFDQztFQUFTLENBQUMsR0FBQ1IsR0FBRyxDQUFDUyxJQUFJO0VBQ3hFLElBQUc7SUFFQyxNQUFNQyxRQUFRLEdBQUNiLE1BQU0sQ0FBQ2MsUUFBUSxDQUFDUCxRQUFRLEVBQUMsRUFBRSxDQUFDO0lBQ3hDLE1BQU1RLElBQUksR0FBQyxNQUFNaEIsSUFBSSxDQUFDaUIsTUFBTSxDQUFDO01BQzVCWCxJQUFJLEVBQUVBLElBQUk7TUFDTkMsS0FBSyxFQUFDQSxLQUFLO01BQ1hDLFFBQVEsRUFBQ00sUUFBUTtNQUNqQkwsUUFBUSxFQUFDQSxRQUFRO01BQ2pCQyxPQUFPLEVBQUNBLE9BQU87TUFDZkMsUUFBUSxFQUFDLEtBQUs7TUFDZEMsU0FBUyxFQUFDO0lBR2YsQ0FBQyxDQUFDO0lBQ0YsT0FBT1AsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDQyxPQUFPLEVBQUMsSUFBSTtNQUFDSixJQUFJLEVBQUNBO0lBQUksQ0FBQyxDQUFDO0VBQzVELENBQUMsQ0FD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","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","User","bcrypt","exports","createUser","req","res","name","email","password","socketId","picture","isActive","isDeleted","body","hashPass","hashSync","user","create","status","json","success","e","console","log","login","findOne","msg","match","compareSync","updateSocketId","userId","findByIdAndUpdate","getUserList","users","find","getUserBySocketId","_id"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/Controller/","sources":["userController.js"],"sourcesContent":["const User = require(\"../modal/userModal\")\nconst bcrypt=require('bcrypt')\nimport mongoose from 'mongoose'\n\nexports.createUser=async(req,res)=>\n{\n\n    const {name,email,password,socketId,picture,isActive,isDeleted}=req.body\n    try{\n\n        const hashPass=bcrypt.hashSync(password,10)\n           const user=await User.create({\n            name: name,\n                email:email,\n                password:hashPass,\n                socketId:socketId,\n                picture:picture,\n                isActive:false,\n                isDeleted:false\n            \n\n           })\n           return res.status(200).json({success:true,user:user})\n    }\n    catch(e)\n    {\n        console.log(e)\n    }\n}\n\nexports.login=async(req,res)=>\n{\n\n    const {email,password}=req.body\n    try{\n        const user = await User.findOne({email:email})\n    if(!user)\n    {\n        return res.status(404).json({success:false,msg:\"NO SUCH USER\"})\n    }\n    console.log(\"user\", user)\n   \n    const match= await bcrypt.compareSync(password, user.password)\n    if(!match)\n    {\n        return res.status(404).json({success:false,msg:\"Invalid Credential\"})\n    }\n\n    return res.status(200).json({success:true,msg:\"Login Successfully\",user:user})\n    }\n    catch(e)\n    {\n        console.log(e)\n        return res.status(500).json({success:false})\n    }\n}\n\nexport const updateSocketId=async(userId,socketId)=>\n{\n    console.log(userId)\n    console.log(\"fdsdsf\",socketId)\n    // console.log(\"before>>\",user)\n    \ntry{\n    const user = await User.findByIdAndUpdate(userId, {\n        socketId: socketId\n    });\n     console.log(\">>\",user)\n}\ncatch(e)\n{\n    console.log(e)\n}\n}\n\nexport const getUserList=async(req,res)=>{\n\n    try{\n        const users=await User.find()\n        return res.status(200).json({success:true,users:users})\n    }\ncatch(e)\n{\n    console.log(e)\n    return res.status(404).json({success:false})\n}\n\n}\nexport const getUserBySocketId=async(socketId)=>\n{\ntry{\n\n  const user=await User.findOne({socketId:socketId})\n  console.log(user)\n  return user._id\n}\ncatch(e)\n{\n    console.log(e)\n}\n}"],"mappings":"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"}},"mtime":1698402336773},"{\"assumptions\":{},\"sourceRoot\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"filename\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/userModal.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/riyasingh/Documents/riya/chatAppMERN/backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nconst {\n  default: mongoose\n} = require(\"mongoose\");\nconst userModal = mongoose.Schema({\n  name: {\n    type: String,\n    require: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  socketId: {\n    type: String,\n    default: null\n  },\n  picture: {\n    type: String,\n    default: \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.flaticon.com%2Ffree-icon%2Fprofile_6915987&psig=AOvVaw37INv_i5lvP8TGnDBut4nc&ust=1698385946762000&source=images&cd=vfe&ved=0CBEQjRxqFwoTCNCz--qCk4IDFQAAAAAdAAAAABAE\"\n  },\n  isActive: {\n    type: Boolean\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n});\nconst User = mongoose.model('User', userModal);\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwibW9uZ29vc2UiLCJyZXF1aXJlIiwidXNlck1vZGFsIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJlbWFpbCIsInJlcXVpcmVkIiwicGFzc3dvcmQiLCJzb2NrZXRJZCIsInBpY3R1cmUiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJpc0RlbGV0ZWQiLCJVc2VyIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yaXlhc2luZ2gvRG9jdW1lbnRzL3JpeWEvY2hhdEFwcE1FUk4vYmFja2VuZC9tb2RhbC8iLCJzb3VyY2VzIjpbInVzZXJNb2RhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGRlZmF1bHQ6IG1vbmdvb3NlIH0gPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5cblxuY29uc3QgdXNlck1vZGFsPW1vbmdvb3NlLlNjaGVtYSh7XG5cbiAgICBuYW1lOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmU6dHJ1ZSxcbiAgICB9LFxuICAgIGVtYWlsOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWVcbiAgICB9LFxuICAgIHBhc3N3b3JkOntcbiAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOnRydWVcbiAgICB9LCBcbiAgICBzb2NrZXRJZDp7XG4gICAgICAgIHR5cGU6U3RyaW5nLFxuICAgICAgICBkZWZhdWx0Om51bGxcbiAgICB9LFxuICAgIHBpY3R1cmU6e1xuICAgICAgICB0eXBlOlN0cmluZyxcbiAgICAgICAgZGVmYXVsdDpcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vdXJsP3NhPWkmdXJsPWh0dHBzJTNBJTJGJTJGd3d3LmZsYXRpY29uLmNvbSUyRmZyZWUtaWNvbiUyRnByb2ZpbGVfNjkxNTk4NyZwc2lnPUFPdlZhdzM3SU52X2k1bHZQOFRHbkRCdXQ0bmMmdXN0PTE2OTgzODU5NDY3NjIwMDAmc291cmNlPWltYWdlcyZjZD12ZmUmdmVkPTBDQkVRalJ4cUZ3b1RDTkN6LS1xQ2s0SURGUUFBQUFBZEFBQUFBQkFFXCJcbiAgICB9LFxuICAgIGlzQWN0aXZlOntcbiAgICAgICAgdHlwZTpCb29sZWFuLFxuICAgICAgICBcbiAgICB9LFxuICAgIGlzRGVsZXRlZDp7XG4gICAgICAgIHR5cGU6Qm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDpmYWxzZVxuICAgIH1cbn0pXG5cbmNvbnN0IFVzZXI9bW9uZ29vc2UubW9kZWwoJ1VzZXInLHVzZXJNb2RhbClcblxubW9kdWxlLmV4cG9ydHM9VXNlciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBLE9BQU8sRUFBRUM7QUFBUyxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFHakQsTUFBTUMsU0FBUyxHQUFDRixRQUFRLENBQUNHLE1BQU0sQ0FBQztFQUU1QkMsSUFBSSxFQUFDO0lBQ0RDLElBQUksRUFBQ0MsTUFBTTtJQUNYTCxPQUFPLEVBQUM7RUFDWixDQUFDO0VBQ0RNLEtBQUssRUFBQztJQUNGRixJQUFJLEVBQUNDLE1BQU07SUFDWEUsUUFBUSxFQUFDO0VBQ2IsQ0FBQztFQUNEQyxRQUFRLEVBQUM7SUFDTEosSUFBSSxFQUFDQyxNQUFNO0lBQ1hFLFFBQVEsRUFBQztFQUNiLENBQUM7RUFDREUsUUFBUSxFQUFDO0lBQ0xMLElBQUksRUFBQ0MsTUFBTTtJQUNYUCxPQUFPLEVBQUM7RUFDWixDQUFDO0VBQ0RZLE9BQU8sRUFBQztJQUNKTixJQUFJLEVBQUNDLE1BQU07SUFDWFAsT0FBTyxFQUFDO0VBQ1osQ0FBQztFQUNEYSxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDUTtFQUVULENBQUM7RUFDREMsU0FBUyxFQUFDO0lBQ05ULElBQUksRUFBQ1EsT0FBTztJQUNaZCxPQUFPLEVBQUM7RUFDWjtBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU1nQixJQUFJLEdBQUNmLFFBQVEsQ0FBQ2dCLEtBQUssQ0FBQyxNQUFNLEVBQUNkLFNBQVMsQ0FBQztBQUUzQ2UsTUFBTSxDQUFDQyxPQUFPLEdBQUNILElBQUkifQ==","map":{"version":3,"names":["default","mongoose","require","userModal","Schema","name","type","String","email","required","password","socketId","picture","isActive","Boolean","isDeleted","User","model","module","exports"],"sourceRoot":"/home/riyasingh/Documents/riya/chatAppMERN/backend/modal/","sources":["userModal.js"],"sourcesContent":["const { default: mongoose } = require(\"mongoose\");\n\n\nconst userModal=mongoose.Schema({\n\n    name:{\n        type:String,\n        require:true,\n    },\n    email:{\n        type:String,\n        required:true\n    },\n    password:{\n        type:String,\n        required:true\n    }, \n    socketId:{\n        type:String,\n        default:null\n    },\n    picture:{\n        type:String,\n        default:\"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.flaticon.com%2Ffree-icon%2Fprofile_6915987&psig=AOvVaw37INv_i5lvP8TGnDBut4nc&ust=1698385946762000&source=images&cd=vfe&ved=0CBEQjRxqFwoTCNCz--qCk4IDFQAAAAAdAAAAABAE\"\n    },\n    isActive:{\n        type:Boolean,\n        \n    },\n    isDeleted:{\n        type:Boolean,\n        default:false\n    }\n})\n\nconst User=mongoose.model('User',userModal)\n\nmodule.exports=User"],"mappings":";;AAAA,MAAM;EAAEA,OAAO,EAAEC;AAAS,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AAGjD,MAAMC,SAAS,GAACF,QAAQ,CAACG,MAAM,CAAC;EAE5BC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXL,OAAO,EAAC;EACZ,CAAC;EACDM,KAAK,EAAC;IACFF,IAAI,EAACC,MAAM;IACXE,QAAQ,EAAC;EACb,CAAC;EACDC,QAAQ,EAAC;IACLJ,IAAI,EAACC,MAAM;IACXE,QAAQ,EAAC;EACb,CAAC;EACDE,QAAQ,EAAC;IACLL,IAAI,EAACC,MAAM;IACXP,OAAO,EAAC;EACZ,CAAC;EACDY,OAAO,EAAC;IACJN,IAAI,EAACC,MAAM;IACXP,OAAO,EAAC;EACZ,CAAC;EACDa,QAAQ,EAAC;IACLP,IAAI,EAACQ;EAET,CAAC;EACDC,SAAS,EAAC;IACNT,IAAI,EAACQ,OAAO;IACZd,OAAO,EAAC;EACZ;AACJ,CAAC,CAAC;AAEF,MAAMgB,IAAI,GAACf,QAAQ,CAACgB,KAAK,CAAC,MAAM,EAACd,SAAS,CAAC;AAE3Ce,MAAM,CAACC,OAAO,GAACH,IAAI"}},"mtime":1698314781754}}